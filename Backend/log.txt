2025-05-01 05:37:02,357 - DEBUG - Starting router imports
2025-05-01 05:37:02,357 - DEBUG - Importing user_router
2025-05-01 05:37:02,358 - DEBUG - Importing room_router
2025-05-01 05:37:02,359 - DEBUG - Loading rooms.py module
2025-05-01 05:37:02,363 - DEBUG - Including room_router
2025-05-01 05:37:02,367 - DEBUG - Importing bet_router
2025-05-01 05:37:02,369 - DEBUG - Importing message_router
2025-05-01 05:37:02,370 - DEBUG - Importing auth_router
2025-05-01 05:37:02,371 - DEBUG - Importing notification_router
2025-05-01 05:37:02,371 - DEBUG - Completed router imports
2025-05-01 05:37:02,672 - INFO - select pg_catalog.version()
2025-05-01 05:37:02,672 - INFO - [raw sql] {}
2025-05-01 05:37:02,727 - INFO - select current_schema()
2025-05-01 05:37:02,727 - INFO - [raw sql] {}
2025-05-01 05:37:02,783 - INFO - show standard_conforming_strings
2025-05-01 05:37:02,783 - INFO - [raw sql] {}
2025-05-01 05:37:02,842 - INFO - BEGIN (implicit)
2025-05-01 05:37:02,842 - INFO - COMMIT
2025-05-01 05:37:02,842 - INFO - Database initialized successfully!
2025-05-01 05:37:45,472 - DEBUG - Starting router imports
2025-05-01 05:37:45,473 - DEBUG - Importing user_router
2025-05-01 05:37:45,474 - DEBUG - Importing room_router
2025-05-01 05:37:45,477 - DEBUG - Loading rooms.py module
2025-05-01 05:37:45,481 - DEBUG - Including room_router
2025-05-01 05:37:45,485 - DEBUG - Importing bet_router
2025-05-01 05:37:45,486 - DEBUG - Importing message_router
2025-05-01 05:37:45,488 - DEBUG - Importing auth_router
2025-05-01 05:37:45,488 - DEBUG - Importing notification_router
2025-05-01 05:37:45,488 - DEBUG - Completed router imports
2025-05-01 05:37:45,775 - INFO - select pg_catalog.version()
2025-05-01 05:37:45,775 - INFO - [raw sql] {}
2025-05-01 05:37:45,834 - INFO - select current_schema()
2025-05-01 05:37:45,834 - INFO - [raw sql] {}
2025-05-01 05:37:45,891 - INFO - show standard_conforming_strings
2025-05-01 05:37:45,891 - INFO - [raw sql] {}
2025-05-01 05:37:45,951 - INFO - BEGIN (implicit)
2025-05-01 05:37:45,952 - INFO - COMMIT
2025-05-01 05:37:45,952 - INFO - Database initialized successfully!
2025-05-01 05:38:33,240 - INFO - BEGIN (implicit)
2025-05-01 05:38:33,242 - INFO - SELECT rooms.id AS rooms_id, rooms.creator_id AS rooms_creator_id, rooms.name AS rooms_name, rooms.status AS rooms_status, rooms.is_public AS rooms_is_public, rooms.token AS rooms_token, rooms.created_at AS rooms_created_at, count(room_members.id) AS member_count 
FROM rooms LEFT OUTER JOIN room_members ON rooms.id = room_members.room_id 
WHERE rooms.is_public = true GROUP BY rooms.id
2025-05-01 05:38:33,242 - INFO - [generated in 0.00015s] {}
2025-05-01 05:38:33,308 - INFO - Fetched 8 public rooms
2025-05-01 05:38:33,309 - INFO - ROLLBACK
2025-05-01 05:40:56,594 - DEBUG - Starting router imports
2025-05-01 05:40:56,594 - DEBUG - Importing user_router
2025-05-01 05:40:56,595 - DEBUG - Importing room_router
2025-05-01 05:40:56,597 - DEBUG - Loading rooms.py module
2025-05-01 05:40:56,602 - DEBUG - Including room_router
2025-05-01 05:40:56,606 - DEBUG - Importing bet_router
2025-05-01 05:40:56,608 - DEBUG - Importing message_router
2025-05-01 05:40:56,609 - DEBUG - Importing auth_router
2025-05-01 05:40:56,609 - DEBUG - Importing notification_router
2025-05-01 05:40:56,609 - DEBUG - Completed router imports
2025-05-01 05:40:56,898 - INFO - select pg_catalog.version()
2025-05-01 05:40:56,898 - INFO - [raw sql] {}
2025-05-01 05:40:57,077 - INFO - select current_schema()
2025-05-01 05:40:57,077 - INFO - [raw sql] {}
2025-05-01 05:40:57,181 - INFO - show standard_conforming_strings
2025-05-01 05:40:57,181 - INFO - [raw sql] {}
2025-05-01 05:40:57,302 - INFO - BEGIN (implicit)
2025-05-01 05:40:57,302 - INFO - COMMIT
2025-05-01 05:40:57,303 - INFO - Database initialized successfully!
2025-05-01 05:41:01,897 - INFO - BEGIN (implicit)
2025-05-01 05:41:01,899 - INFO - SELECT rooms.id AS rooms_id, rooms.creator_id AS rooms_creator_id, rooms.name AS rooms_name, rooms.status AS rooms_status, rooms.is_public AS rooms_is_public, rooms.token AS rooms_token, rooms.created_at AS rooms_created_at, count(room_members.id) AS member_count 
FROM rooms LEFT OUTER JOIN room_members ON rooms.id = room_members.room_id 
WHERE rooms.is_public = true GROUP BY rooms.id
2025-05-01 05:41:01,899 - INFO - [generated in 0.00011s] {}
2025-05-01 05:41:01,961 - INFO - Fetched 8 public rooms
2025-05-01 05:41:01,962 - ERROR - Error fetching public rooms: 1 validation error for RoomResponse
description
  Field required [type=missing, input_value={'_sa_instance_state': <s...utc), 'member_count': 2}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-05-01 05:41:01,962 - INFO - ROLLBACK
2025-05-01 05:41:24,841 - DEBUG - Starting router imports
2025-05-01 05:41:24,841 - DEBUG - Importing user_router
2025-05-01 05:41:24,843 - DEBUG - Importing room_router
2025-05-01 05:41:24,846 - DEBUG - Loading rooms.py module
2025-05-01 05:41:24,851 - DEBUG - Including room_router
2025-05-01 05:41:24,855 - DEBUG - Importing bet_router
2025-05-01 05:41:24,858 - DEBUG - Importing message_router
2025-05-01 05:41:24,859 - DEBUG - Importing auth_router
2025-05-01 05:41:24,859 - DEBUG - Importing notification_router
2025-05-01 05:41:24,860 - DEBUG - Completed router imports
2025-05-01 05:41:25,150 - INFO - select pg_catalog.version()
2025-05-01 05:41:25,150 - INFO - [raw sql] {}
2025-05-01 05:41:25,208 - INFO - select current_schema()
2025-05-01 05:41:25,208 - INFO - [raw sql] {}
2025-05-01 05:41:25,265 - INFO - show standard_conforming_strings
2025-05-01 05:41:25,265 - INFO - [raw sql] {}
2025-05-01 05:41:25,323 - INFO - BEGIN (implicit)
2025-05-01 05:41:25,323 - INFO - COMMIT
2025-05-01 05:41:25,323 - INFO - Database initialized successfully!
2025-05-01 05:41:28,545 - INFO - BEGIN (implicit)
2025-05-01 05:41:28,548 - INFO - SELECT rooms.id AS rooms_id, rooms.creator_id AS rooms_creator_id, rooms.name AS rooms_name, rooms.status AS rooms_status, rooms.is_public AS rooms_is_public, rooms.token AS rooms_token, rooms.created_at AS rooms_created_at, count(room_members.id) AS member_count 
FROM rooms LEFT OUTER JOIN room_members ON rooms.id = room_members.room_id 
WHERE rooms.is_public = true GROUP BY rooms.id
2025-05-01 05:41:28,548 - INFO - [generated in 0.00024s] {}
2025-05-01 05:41:28,606 - INFO - Fetched 8 public rooms
2025-05-01 05:41:28,608 - INFO - ROLLBACK
2025-05-01 05:43:24,730 - DEBUG - Starting router imports
2025-05-01 05:43:24,730 - DEBUG - Importing user_router
2025-05-01 05:43:24,732 - DEBUG - Importing room_router
2025-05-01 05:43:24,733 - DEBUG - Loading rooms.py module
2025-05-01 05:43:24,737 - DEBUG - Including room_router
2025-05-01 05:43:24,742 - DEBUG - Importing bet_router
2025-05-01 05:43:24,743 - DEBUG - Importing message_router
2025-05-01 05:43:24,745 - DEBUG - Importing auth_router
2025-05-01 05:43:24,746 - DEBUG - Importing notification_router
2025-05-01 05:43:24,746 - DEBUG - Completed router imports
2025-05-01 05:43:25,052 - INFO - select pg_catalog.version()
2025-05-01 05:43:25,052 - INFO - [raw sql] {}
2025-05-01 05:43:25,108 - INFO - select current_schema()
2025-05-01 05:43:25,108 - INFO - [raw sql] {}
2025-05-01 05:43:25,168 - INFO - show standard_conforming_strings
2025-05-01 05:43:25,168 - INFO - [raw sql] {}
2025-05-01 05:43:25,225 - INFO - BEGIN (implicit)
2025-05-01 05:43:25,225 - INFO - COMMIT
2025-05-01 05:43:25,226 - INFO - Database initialized successfully!
2025-05-01 05:43:51,084 - DEBUG - Starting router imports
2025-05-01 05:43:51,084 - DEBUG - Importing user_router
2025-05-01 05:43:51,085 - DEBUG - Importing room_router
2025-05-01 05:43:51,086 - DEBUG - Loading rooms.py module
2025-05-01 05:43:51,090 - DEBUG - Including room_router
2025-05-01 05:43:51,094 - DEBUG - Importing bet_router
2025-05-01 05:43:51,100 - DEBUG - Importing message_router
2025-05-01 05:43:51,102 - DEBUG - Importing auth_router
2025-05-01 05:43:51,102 - DEBUG - Importing notification_router
2025-05-01 05:43:51,102 - DEBUG - Completed router imports
2025-05-01 05:43:51,378 - INFO - select pg_catalog.version()
2025-05-01 05:43:51,379 - INFO - [raw sql] {}
2025-05-01 05:43:51,435 - INFO - select current_schema()
2025-05-01 05:43:51,435 - INFO - [raw sql] {}
2025-05-01 05:43:51,502 - INFO - show standard_conforming_strings
2025-05-01 05:43:51,502 - INFO - [raw sql] {}
2025-05-01 05:43:51,580 - INFO - BEGIN (implicit)
2025-05-01 05:43:51,581 - INFO - COMMIT
2025-05-01 05:43:51,581 - INFO - Database initialized successfully!
2025-05-01 05:44:11,546 - DEBUG - Starting router imports
2025-05-01 05:44:11,547 - DEBUG - Importing user_router
2025-05-01 05:44:11,552 - DEBUG - Importing room_router
2025-05-01 05:44:11,556 - DEBUG - Loading rooms.py module
2025-05-01 05:44:11,563 - DEBUG - Including room_router
2025-05-01 05:44:11,587 - DEBUG - Importing bet_router
2025-05-01 05:44:11,593 - DEBUG - Importing message_router
2025-05-01 05:44:11,596 - DEBUG - Importing auth_router
2025-05-01 05:44:11,596 - DEBUG - Importing notification_router
2025-05-01 05:44:11,597 - DEBUG - Completed router imports
2025-05-01 05:44:11,897 - INFO - select pg_catalog.version()
2025-05-01 05:44:11,897 - INFO - [raw sql] {}
2025-05-01 05:44:11,956 - INFO - select current_schema()
2025-05-01 05:44:11,957 - INFO - [raw sql] {}
2025-05-01 05:44:12,014 - INFO - show standard_conforming_strings
2025-05-01 05:44:12,014 - INFO - [raw sql] {}
2025-05-01 05:44:12,072 - INFO - BEGIN (implicit)
2025-05-01 05:44:12,073 - INFO - COMMIT
2025-05-01 05:44:12,073 - INFO - Database initialized successfully!
2025-05-01 05:45:09,584 - DEBUG - Starting router imports
2025-05-01 05:45:09,584 - DEBUG - Importing user_router
2025-05-01 05:45:09,587 - DEBUG - Importing room_router
2025-05-01 05:45:09,588 - DEBUG - Loading rooms.py module
2025-05-01 05:45:09,592 - DEBUG - Including room_router
2025-05-01 05:45:09,596 - DEBUG - Importing bet_router
2025-05-01 05:45:09,598 - DEBUG - Importing message_router
2025-05-01 05:45:09,599 - DEBUG - Importing auth_router
2025-05-01 05:45:09,600 - DEBUG - Importing notification_router
2025-05-01 05:45:09,600 - DEBUG - Completed router imports
2025-05-01 05:45:09,912 - INFO - select pg_catalog.version()
2025-05-01 05:45:09,912 - INFO - [raw sql] {}
2025-05-01 05:45:09,972 - INFO - select current_schema()
2025-05-01 05:45:09,972 - INFO - [raw sql] {}
2025-05-01 05:45:10,030 - INFO - show standard_conforming_strings
2025-05-01 05:45:10,030 - INFO - [raw sql] {}
2025-05-01 05:45:10,113 - INFO - BEGIN (implicit)
2025-05-01 05:45:10,114 - INFO - COMMIT
2025-05-01 05:45:10,114 - INFO - Database initialized successfully!
2025-05-01 05:45:30,859 - DEBUG - Starting router imports
2025-05-01 05:45:30,859 - DEBUG - Importing user_router
2025-05-01 05:45:30,861 - DEBUG - Importing room_router
2025-05-01 05:45:30,861 - DEBUG - Loading rooms.py module
2025-05-01 05:45:30,865 - DEBUG - Including room_router
2025-05-01 05:45:30,869 - DEBUG - Importing bet_router
2025-05-01 05:45:30,871 - DEBUG - Importing message_router
2025-05-01 05:45:30,873 - DEBUG - Importing auth_router
2025-05-01 05:45:30,873 - DEBUG - Importing notification_router
2025-05-01 05:45:30,873 - DEBUG - Completed router imports
2025-05-01 05:45:30,874 - DEBUG - Initializing database
2025-05-01 05:45:31,329 - DEBUG - Database initialized successfully
2025-05-01 05:45:31,329 - INFO - Database initialized successfully!
2025-05-01 05:45:49,301 - DEBUG - Starting router imports
2025-05-01 05:45:49,301 - DEBUG - Importing user_router
2025-05-01 05:45:49,302 - DEBUG - Importing room_router
2025-05-01 05:45:49,303 - DEBUG - Loading rooms.py module
2025-05-01 05:45:49,307 - DEBUG - Including room_router
2025-05-01 05:45:49,311 - DEBUG - Importing bet_router
2025-05-01 05:45:49,313 - DEBUG - Importing message_router
2025-05-01 05:45:49,314 - DEBUG - Importing auth_router
2025-05-01 05:45:49,315 - DEBUG - Importing notification_router
2025-05-01 05:45:49,315 - DEBUG - Completed router imports
2025-05-01 05:45:49,315 - DEBUG - Initializing database
2025-05-01 05:45:49,899 - DEBUG - Database initialized successfully
2025-05-01 05:45:49,899 - INFO - Database initialized successfully!
2025-05-01 05:45:59,029 - DEBUG - Starting router imports
2025-05-01 05:45:59,029 - DEBUG - Importing user_router
2025-05-01 05:45:59,031 - DEBUG - Importing room_router
2025-05-01 05:45:59,031 - DEBUG - Loading rooms.py module
2025-05-01 05:45:59,035 - DEBUG - Including room_router
2025-05-01 05:45:59,039 - DEBUG - Importing bet_router
2025-05-01 05:45:59,041 - DEBUG - Importing message_router
2025-05-01 05:45:59,043 - DEBUG - Importing auth_router
2025-05-01 05:45:59,043 - DEBUG - Importing notification_router
2025-05-01 05:45:59,044 - DEBUG - Completed router imports
2025-05-01 05:45:59,044 - DEBUG - Initializing database
2025-05-01 05:45:59,629 - DEBUG - Database initialized successfully
2025-05-01 05:45:59,629 - INFO - Database initialized successfully!
2025-05-01 05:50:32,921 - DEBUG - Starting router imports
2025-05-01 05:50:32,921 - DEBUG - Importing user_router
2025-05-01 05:50:32,923 - DEBUG - Importing room_router
2025-05-01 05:50:32,924 - DEBUG - Loading rooms.py module
2025-05-01 05:50:32,928 - DEBUG - Including room_router
2025-05-01 05:50:32,932 - DEBUG - Importing bet_router
2025-05-01 05:50:32,934 - DEBUG - Importing message_router
2025-05-01 05:50:32,935 - DEBUG - Importing auth_router
2025-05-01 05:50:32,936 - DEBUG - Importing notification_router
2025-05-01 05:50:32,936 - DEBUG - Completed router imports
2025-05-01 05:50:32,936 - DEBUG - Initializing database
2025-05-01 05:50:33,398 - DEBUG - Database initialized successfully
2025-05-01 05:50:33,398 - INFO - Database initialized successfully!
2025-05-01 05:51:46,573 - DEBUG - Starting router imports
2025-05-01 05:51:46,574 - DEBUG - Importing user_router
2025-05-01 05:51:46,575 - DEBUG - Importing room_router
2025-05-01 05:51:46,576 - DEBUG - Loading rooms.py module
2025-05-01 05:51:46,580 - DEBUG - Including room_router
2025-05-01 05:51:46,584 - DEBUG - Importing bet_router
2025-05-01 05:51:46,586 - DEBUG - Importing message_router
2025-05-01 05:51:46,588 - DEBUG - Importing auth_router
2025-05-01 05:51:46,588 - DEBUG - Importing notification_router
2025-05-01 05:51:46,589 - DEBUG - Completed router imports
2025-05-01 05:51:46,589 - DEBUG - Initializing database
2025-05-01 05:51:47,046 - DEBUG - Database initialized successfully
2025-05-01 05:51:47,046 - INFO - Database initialized successfully!
2025-05-01 05:53:10,923 - DEBUG - Starting router imports
2025-05-01 05:53:10,923 - DEBUG - Importing user_router
2025-05-01 05:53:10,925 - DEBUG - Importing room_router
2025-05-01 05:53:10,925 - DEBUG - Loading rooms.py module
2025-05-01 05:53:10,930 - DEBUG - Including room_router
2025-05-01 05:53:10,935 - DEBUG - Importing bet_router
2025-05-01 05:53:10,937 - DEBUG - Importing message_router
2025-05-01 05:53:10,939 - DEBUG - Importing auth_router
2025-05-01 05:53:10,939 - DEBUG - Importing notification_router
2025-05-01 05:53:10,939 - DEBUG - Completed router imports
2025-05-01 05:53:10,940 - DEBUG - Initializing database
2025-05-01 05:53:11,483 - DEBUG - Database initialized successfully
2025-05-01 05:53:11,483 - INFO - Database initialized successfully!
2025-05-01 05:53:41,349 - DEBUG - Starting router imports
2025-05-01 05:53:41,349 - DEBUG - Importing user_router
2025-05-01 05:53:41,351 - DEBUG - Importing room_router
2025-05-01 05:53:41,352 - DEBUG - Loading rooms.py module
2025-05-01 05:53:41,355 - DEBUG - Including room_router
2025-05-01 05:53:41,360 - DEBUG - Importing bet_router
2025-05-01 05:53:41,361 - DEBUG - Importing message_router
2025-05-01 05:53:41,363 - DEBUG - Importing auth_router
2025-05-01 05:53:41,363 - DEBUG - Importing notification_router
2025-05-01 05:53:41,363 - DEBUG - Completed router imports
2025-05-01 05:53:41,363 - DEBUG - Initializing database
2025-05-01 05:53:41,971 - DEBUG - Database initialized successfully
2025-05-01 05:53:41,971 - INFO - Database initialized successfully!
2025-05-01 05:53:50,851 - INFO - Fetched 8 public rooms
2025-05-01 05:53:50,852 - ERROR - Error fetching public rooms: 1 validation error for RoomResponse
member_count
  Field required [type=missing, input_value=<Room(id=10, name='Tower ...atus='RoomStatus.OPEN')>, input_type=Room]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "/Users/mohammednihal/SodaCan/Backend/app/api/rooms.py", line 55, in get_public_rooms
    return [RoomResponse.from_orm(room).model_copy(update={"member_count": member_count}) for room, member_count in rooms]
  File "/Users/mohammednihal/SodaCan/Backend/app/api/rooms.py", line 55, in <listcomp>
    return [RoomResponse.from_orm(room).model_copy(update={"member_count": member_count}) for room, member_count in rooms]
  File "/Users/mohammednihal/SodaCan/bet/lib/python3.9/site-packages/pydantic/main.py", line 1443, in from_orm
    return cls.model_validate(obj)
  File "/Users/mohammednihal/SodaCan/bet/lib/python3.9/site-packages/pydantic/main.py", line 703, in model_validate
    return cls.__pydantic_validator__.validate_python(
pydantic_core._pydantic_core.ValidationError: 1 validation error for RoomResponse
member_count
  Field required [type=missing, input_value=<Room(id=10, name='Tower ...atus='RoomStatus.OPEN')>, input_type=Room]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-05-01 05:55:36,072 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 05:55:36,300 - DEBUG - User authenticated: id=9
2025-05-01 05:55:36,301 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 05:55:36,551 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 05:55:36,674 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 05:55:36,677 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 05:55:36,766 - DEBUG - User authenticated: id=9
2025-05-01 05:55:36,767 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 05:55:36,842 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 05:55:37,066 - DEBUG - User authenticated: id=9
2025-05-01 05:55:37,098 - INFO - User 9 fetched 6 rooms
2025-05-01 05:55:37,101 - ERROR - Error fetching rooms for user 9: 1 validation error for RoomResponse
member_count
  Field required [type=missing, input_value=<Room(id=1, name='Maqsad'...atus='RoomStatus.OPEN')>, input_type=Room]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "/Users/mohammednihal/SodaCan/Backend/app/api/rooms.py", line 39, in get_all_rooms
    return [RoomResponse.from_orm(room).model_copy(update={"member_count": member_count}) for room, member_count in rooms]
  File "/Users/mohammednihal/SodaCan/Backend/app/api/rooms.py", line 39, in <listcomp>
    return [RoomResponse.from_orm(room).model_copy(update={"member_count": member_count}) for room, member_count in rooms]
  File "/Users/mohammednihal/SodaCan/bet/lib/python3.9/site-packages/pydantic/main.py", line 1443, in from_orm
    return cls.model_validate(obj)
  File "/Users/mohammednihal/SodaCan/bet/lib/python3.9/site-packages/pydantic/main.py", line 703, in model_validate
    return cls.__pydantic_validator__.validate_python(
pydantic_core._pydantic_core.ValidationError: 1 validation error for RoomResponse
member_count
  Field required [type=missing, input_value=<Room(id=1, name='Maqsad'...atus='RoomStatus.OPEN')>, input_type=Room]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-05-01 05:55:37,146 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 05:55:37,437 - DEBUG - User authenticated: id=9
2025-05-01 05:55:37,565 - INFO - User 9 fetched 6 rooms
2025-05-01 05:55:37,565 - ERROR - Error fetching rooms for user 9: 1 validation error for RoomResponse
member_count
  Field required [type=missing, input_value=<Room(id=1, name='Maqsad'...atus='RoomStatus.OPEN')>, input_type=Room]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "/Users/mohammednihal/SodaCan/Backend/app/api/rooms.py", line 39, in get_all_rooms
    return [RoomResponse.from_orm(room).model_copy(update={"member_count": member_count}) for room, member_count in rooms]
  File "/Users/mohammednihal/SodaCan/Backend/app/api/rooms.py", line 39, in <listcomp>
    return [RoomResponse.from_orm(room).model_copy(update={"member_count": member_count}) for room, member_count in rooms]
  File "/Users/mohammednihal/SodaCan/bet/lib/python3.9/site-packages/pydantic/main.py", line 1443, in from_orm
    return cls.model_validate(obj)
  File "/Users/mohammednihal/SodaCan/bet/lib/python3.9/site-packages/pydantic/main.py", line 703, in model_validate
    return cls.__pydantic_validator__.validate_python(
pydantic_core._pydantic_core.ValidationError: 1 validation error for RoomResponse
member_count
  Field required [type=missing, input_value=<Room(id=1, name='Maqsad'...atus='RoomStatus.OPEN')>, input_type=Room]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-05-01 06:26:49,998 - DEBUG - Starting router imports
2025-05-01 06:26:49,998 - DEBUG - Importing user_router
2025-05-01 06:26:50,000 - DEBUG - Importing room_router
2025-05-01 06:26:50,002 - DEBUG - Loading rooms.py module
2025-05-01 06:26:50,006 - DEBUG - Including room_router
2025-05-01 06:26:50,010 - DEBUG - Importing bet_router
2025-05-01 06:26:50,012 - DEBUG - Importing message_router
2025-05-01 06:26:50,014 - DEBUG - Importing auth_router
2025-05-01 06:26:50,014 - DEBUG - Importing notification_router
2025-05-01 06:26:50,014 - DEBUG - Completed router imports
2025-05-01 06:26:50,015 - DEBUG - Initializing database
2025-05-01 06:26:57,440 - DEBUG - Database initialized successfully
2025-05-01 06:26:57,441 - INFO - Database initialized successfully!
2025-05-01 06:27:05,716 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:27:05,849 - DEBUG - JWT error: Signature has expired.
2025-05-01 06:27:05,871 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:27:05,874 - DEBUG - JWT error: Signature has expired.
2025-05-01 06:27:18,429 - DEBUG - Login attempt: email=nhaal160@gmail.com, username=None
2025-05-01 06:27:18,544 - DEBUG - Verifying password: hashed=$2b$12$84p...
2025-05-01 06:27:18,544 - DEBUG - detected 'bcrypt' backend, version '4.0.1'
2025-05-01 06:27:18,545 - DEBUG - 'bcrypt' backend lacks $2$ support, enabling workaround
2025-05-01 06:27:18,816 - DEBUG - Creating access token for data: {'sub': '9'}
2025-05-01 06:27:18,816 - DEBUG - Access token created: eyJhbGciOi...
2025-05-01 06:27:18,816 - DEBUG - Creating refresh token for user_id: 9
2025-05-01 06:27:19,302 - DEBUG - Refresh token stored: eyJhbGciOi...
2025-05-01 06:27:19,709 - INFO - Login successful: user_id=9, username=nihal
2025-05-01 06:27:19,774 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:27:19,863 - DEBUG - User authenticated: id=9
2025-05-01 06:27:19,863 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:27:19,927 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:27:19,960 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:27:20,050 - DEBUG - User authenticated: id=9
2025-05-01 06:27:20,050 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:27:20,113 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:27:21,432 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:27:21,683 - DEBUG - User authenticated: id=9
2025-05-01 06:27:21,684 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:27:22,843 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:27:23,106 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:27:23,111 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:27:23,215 - DEBUG - User authenticated: id=9
2025-05-01 06:27:23,215 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:27:23,291 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:27:23,858 - DEBUG - User authenticated: id=9
2025-05-01 06:27:23,982 - INFO - User 9 fetched 6 rooms
2025-05-01 06:27:23,985 - ERROR - Error fetching rooms for user 9: 1 validation error for RoomResponse
member_count
  Field required [type=missing, input_value=<Room(id=1, name='Maqsad'...atus='RoomStatus.OPEN')>, input_type=Room]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "/Users/mohammednihal/SodaCan/Backend/app/api/rooms.py", line 39, in get_all_rooms
    return [RoomResponse.from_orm(room).model_copy(update={"member_count": member_count}) for room, member_count in rooms]
  File "/Users/mohammednihal/SodaCan/Backend/app/api/rooms.py", line 39, in <listcomp>
    return [RoomResponse.from_orm(room).model_copy(update={"member_count": member_count}) for room, member_count in rooms]
  File "/Users/mohammednihal/SodaCan/bet/lib/python3.9/site-packages/pydantic/main.py", line 1443, in from_orm
    return cls.model_validate(obj)
  File "/Users/mohammednihal/SodaCan/bet/lib/python3.9/site-packages/pydantic/main.py", line 703, in model_validate
    return cls.__pydantic_validator__.validate_python(
pydantic_core._pydantic_core.ValidationError: 1 validation error for RoomResponse
member_count
  Field required [type=missing, input_value=<Room(id=1, name='Maqsad'...atus='RoomStatus.OPEN')>, input_type=Room]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-05-01 06:27:24,024 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:27:24,355 - DEBUG - User authenticated: id=9
2025-05-01 06:27:25,395 - INFO - User 9 fetched 6 rooms
2025-05-01 06:27:25,396 - ERROR - Error fetching rooms for user 9: 1 validation error for RoomResponse
member_count
  Field required [type=missing, input_value=<Room(id=1, name='Maqsad'...atus='RoomStatus.OPEN')>, input_type=Room]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "/Users/mohammednihal/SodaCan/Backend/app/api/rooms.py", line 39, in get_all_rooms
    return [RoomResponse.from_orm(room).model_copy(update={"member_count": member_count}) for room, member_count in rooms]
  File "/Users/mohammednihal/SodaCan/Backend/app/api/rooms.py", line 39, in <listcomp>
    return [RoomResponse.from_orm(room).model_copy(update={"member_count": member_count}) for room, member_count in rooms]
  File "/Users/mohammednihal/SodaCan/bet/lib/python3.9/site-packages/pydantic/main.py", line 1443, in from_orm
    return cls.model_validate(obj)
  File "/Users/mohammednihal/SodaCan/bet/lib/python3.9/site-packages/pydantic/main.py", line 703, in model_validate
    return cls.__pydantic_validator__.validate_python(
pydantic_core._pydantic_core.ValidationError: 1 validation error for RoomResponse
member_count
  Field required [type=missing, input_value=<Room(id=1, name='Maqsad'...atus='RoomStatus.OPEN')>, input_type=Room]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-05-01 06:29:54,720 - DEBUG - Starting router imports
2025-05-01 06:29:54,720 - DEBUG - Importing user_router
2025-05-01 06:29:54,721 - DEBUG - Importing room_router
2025-05-01 06:29:54,724 - DEBUG - Loading rooms.py module
2025-05-01 06:29:54,728 - DEBUG - Including room_router
2025-05-01 06:29:54,732 - DEBUG - Importing bet_router
2025-05-01 06:29:54,734 - DEBUG - Importing message_router
2025-05-01 06:29:54,735 - DEBUG - Importing auth_router
2025-05-01 06:29:54,736 - DEBUG - Importing notification_router
2025-05-01 06:29:54,736 - DEBUG - Completed router imports
2025-05-01 06:29:54,736 - DEBUG - Initializing database
2025-05-01 06:29:56,994 - DEBUG - Database initialized successfully
2025-05-01 06:29:56,995 - INFO - Database initialized successfully!
2025-05-01 06:30:01,340 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:01,880 - DEBUG - User authenticated: id=9
2025-05-01 06:30:01,881 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:30:02,560 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:30:02,648 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:02,650 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:03,427 - DEBUG - User authenticated: id=9
2025-05-01 06:30:03,428 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:30:03,496 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:30:03,599 - DEBUG - User authenticated: id=9
2025-05-01 06:30:03,704 - INFO - Successfully fetched 6 rooms for user 9
2025-05-01 06:30:03,763 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:03,773 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:03,862 - DEBUG - User authenticated: id=9
2025-05-01 06:30:03,894 - DEBUG - User authenticated: id=9
2025-05-01 06:30:04,011 - INFO - Successfully fetched 6 rooms for user 9
2025-05-01 06:30:04,013 - DEBUG - Fetching messages for room 1 by user 9
2025-05-01 06:30:04,523 - INFO - Retrieved 4 messages for room 1
2025-05-01 06:30:04,871 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:04,882 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:04,965 - DEBUG - User authenticated: id=9
2025-05-01 06:30:04,976 - DEBUG - User authenticated: id=9
2025-05-01 06:30:05,475 - INFO - User 9 fetched 3 members for room 1
2025-05-01 06:30:05,476 - DEBUG - Fetching messages for room 1 by user 9
2025-05-01 06:30:05,807 - INFO - Retrieved 4 messages for room 1
2025-05-01 06:30:06,389 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:06,600 - DEBUG - User authenticated: id=9
2025-05-01 06:30:07,011 - INFO - User 9 fetched 3 members for room 1
2025-05-01 06:30:13,463 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:13,578 - DEBUG - User authenticated: id=9
2025-05-01 06:30:13,578 - DEBUG - Fetching messages for room 13 by user 9
2025-05-01 06:30:14,075 - INFO - Retrieved 7 messages for room 13
2025-05-01 06:30:14,528 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:14,616 - DEBUG - User authenticated: id=9
2025-05-01 06:30:14,894 - INFO - User 9 fetched 3 members for room 13
2025-05-01 06:30:20,384 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:20,485 - DEBUG - User authenticated: id=9
2025-05-01 06:30:20,486 - DEBUG - Fetching messages for room 14 by user 9
2025-05-01 06:30:20,668 - INFO - Retrieved 3 messages for room 14
2025-05-01 06:30:20,852 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:21,054 - DEBUG - User authenticated: id=9
2025-05-01 06:30:21,185 - INFO - User 9 fetched 1 members for room 14
2025-05-01 06:30:22,296 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:22,391 - DEBUG - User authenticated: id=9
2025-05-01 06:30:22,392 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:30:22,457 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:30:22,493 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:22,494 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:22,585 - DEBUG - User authenticated: id=9
2025-05-01 06:30:22,586 - DEBUG - User authenticated: id=9
2025-05-01 06:30:22,618 - INFO - Successfully fetched 6 rooms for user 9
2025-05-01 06:30:22,619 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:30:22,679 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:30:22,716 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:22,721 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:22,729 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:22,803 - DEBUG - User authenticated: id=9
2025-05-01 06:30:22,806 - DEBUG - User authenticated: id=9
2025-05-01 06:30:22,925 - INFO - User 9 fetched 1 members for room 14
2025-05-01 06:30:22,926 - DEBUG - Fetching messages for room 14 by user 9
2025-05-01 06:30:22,973 - DEBUG - User authenticated: id=9
2025-05-01 06:30:23,116 - INFO - Retrieved 3 messages for room 14
2025-05-01 06:30:23,332 - INFO - Successfully fetched 6 rooms for user 9
2025-05-01 06:30:23,338 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:23,365 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:23,370 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:23,432 - DEBUG - User authenticated: id=9
2025-05-01 06:30:23,457 - DEBUG - User authenticated: id=9
2025-05-01 06:30:23,461 - DEBUG - User authenticated: id=9
2025-05-01 06:30:23,500 - ERROR - Error fetching bets for room 14: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum role: "ADMIN"
LINE 3: ...user_id = 9 AND room_members.role IN ('SUPERUSER', 'ADMIN') 
                                                              ^

[SQL: SELECT room_members.id AS room_members_id, room_members.room_id AS room_members_room_id, room_members.user_id AS room_members_user_id, room_members.role AS room_members_role 
FROM room_members 
WHERE room_members.room_id = %(room_id_1)s AND room_members.user_id = %(user_id_1)s AND room_members.role IN (%(role_1_1)s, %(role_1_2)s) 
 LIMIT %(param_1)s]
[parameters: {'room_id_1': 14, 'user_id_1': 9, 'param_1': 1, 'role_1_1': 'SUPERUSER', 'role_1_2': 'ADMIN'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-05-01 06:30:23,623 - INFO - User 9 fetched 1 members for room 14
2025-05-01 06:30:23,624 - DEBUG - Fetching messages for room 14 by user 9
2025-05-01 06:30:23,917 - INFO - Retrieved 3 messages for room 14
2025-05-01 06:30:24,100 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:24,103 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:24,189 - DEBUG - User authenticated: id=9
2025-05-01 06:30:24,189 - DEBUG - User authenticated: id=9
2025-05-01 06:30:24,226 - INFO - User 9 fetched 0 notifications
2025-05-01 06:30:24,288 - ERROR - Error fetching bets for room 14: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum role: "ADMIN"
LINE 3: ...user_id = 9 AND room_members.role IN ('SUPERUSER', 'ADMIN') 
                                                              ^

[SQL: SELECT room_members.id AS room_members_id, room_members.room_id AS room_members_room_id, room_members.user_id AS room_members_user_id, room_members.role AS room_members_role 
FROM room_members 
WHERE room_members.room_id = %(room_id_1)s AND room_members.user_id = %(user_id_1)s AND room_members.role IN (%(role_1_1)s, %(role_1_2)s) 
 LIMIT %(param_1)s]
[parameters: {'room_id_1': 14, 'user_id_1': 9, 'param_1': 1, 'role_1_1': 'SUPERUSER', 'role_1_2': 'ADMIN'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-05-01 06:30:24,360 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:24,448 - DEBUG - User authenticated: id=9
2025-05-01 06:30:24,478 - INFO - User 9 fetched 0 notifications
2025-05-01 06:30:30,246 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:30,416 - DEBUG - User authenticated: id=9
2025-05-01 06:30:30,417 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:30:30,901 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:30:30,936 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:30,938 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:31,193 - DEBUG - User authenticated: id=9
2025-05-01 06:30:31,193 - DEBUG - User authenticated: id=9
2025-05-01 06:30:31,194 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:30:31,261 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:30:31,339 - INFO - Successfully fetched 6 rooms for user 9
2025-05-01 06:30:31,403 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:31,407 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:31,548 - DEBUG - User authenticated: id=9
2025-05-01 06:30:31,548 - DEBUG - User authenticated: id=9
2025-05-01 06:30:31,549 - DEBUG - Fetching messages for room 1 by user 9
2025-05-01 06:30:31,817 - INFO - Retrieved 4 messages for room 1
2025-05-01 06:30:32,144 - INFO - Successfully fetched 6 rooms for user 9
2025-05-01 06:30:32,248 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:32,248 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:32,337 - DEBUG - User authenticated: id=9
2025-05-01 06:30:32,338 - DEBUG - User authenticated: id=9
2025-05-01 06:30:32,655 - INFO - User 9 fetched 3 members for room 1
2025-05-01 06:30:32,656 - DEBUG - Fetching messages for room 1 by user 9
2025-05-01 06:30:32,833 - INFO - Retrieved 4 messages for room 1
2025-05-01 06:30:33,077 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:33,162 - DEBUG - User authenticated: id=9
2025-05-01 06:30:33,401 - INFO - User 9 fetched 3 members for room 1
2025-05-01 06:30:35,966 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:36,062 - DEBUG - User authenticated: id=9
2025-05-01 06:30:36,063 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:30:36,123 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:30:36,160 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:36,249 - DEBUG - User authenticated: id=9
2025-05-01 06:30:36,249 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:30:36,310 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:30:39,085 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:39,517 - DEBUG - User authenticated: id=9
2025-05-01 06:30:39,518 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:30:39,632 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:30:39,671 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:30:39,759 - DEBUG - User authenticated: id=9
2025-05-01 06:30:39,763 - INFO - Fetched 8 public rooms
2025-05-01 06:30:39,764 - ERROR - Error fetching public rooms: 1 validation error for RoomResponse
member_count
  Field required [type=missing, input_value=<Room(id=10, name='Tower ...atus='RoomStatus.OPEN')>, input_type=Room]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "/Users/mohammednihal/SodaCan/Backend/app/api/rooms.py", line 80, in get_public_rooms
    return [RoomResponse.from_orm(room).model_copy(update={"member_count": member_count}) for room, member_count in rooms]
  File "/Users/mohammednihal/SodaCan/Backend/app/api/rooms.py", line 80, in <listcomp>
    return [RoomResponse.from_orm(room).model_copy(update={"member_count": member_count}) for room, member_count in rooms]
  File "/Users/mohammednihal/SodaCan/bet/lib/python3.9/site-packages/pydantic/main.py", line 1443, in from_orm
    return cls.model_validate(obj)
  File "/Users/mohammednihal/SodaCan/bet/lib/python3.9/site-packages/pydantic/main.py", line 703, in model_validate
    return cls.__pydantic_validator__.validate_python(
pydantic_core._pydantic_core.ValidationError: 1 validation error for RoomResponse
member_count
  Field required [type=missing, input_value=<Room(id=10, name='Tower ...atus='RoomStatus.OPEN')>, input_type=Room]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-05-01 06:30:39,772 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:30:39,835 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:30:39,966 - INFO - Fetched 8 public rooms
2025-05-01 06:30:39,966 - ERROR - Error fetching public rooms: 1 validation error for RoomResponse
member_count
  Field required [type=missing, input_value=<Room(id=10, name='Tower ...atus='RoomStatus.OPEN')>, input_type=Room]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "/Users/mohammednihal/SodaCan/Backend/app/api/rooms.py", line 80, in get_public_rooms
    return [RoomResponse.from_orm(room).model_copy(update={"member_count": member_count}) for room, member_count in rooms]
  File "/Users/mohammednihal/SodaCan/Backend/app/api/rooms.py", line 80, in <listcomp>
    return [RoomResponse.from_orm(room).model_copy(update={"member_count": member_count}) for room, member_count in rooms]
  File "/Users/mohammednihal/SodaCan/bet/lib/python3.9/site-packages/pydantic/main.py", line 1443, in from_orm
    return cls.model_validate(obj)
  File "/Users/mohammednihal/SodaCan/bet/lib/python3.9/site-packages/pydantic/main.py", line 703, in model_validate
    return cls.__pydantic_validator__.validate_python(
pydantic_core._pydantic_core.ValidationError: 1 validation error for RoomResponse
member_count
  Field required [type=missing, input_value=<Room(id=10, name='Tower ...atus='RoomStatus.OPEN')>, input_type=Room]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-05-01 06:33:53,674 - DEBUG - Starting router imports
2025-05-01 06:33:53,674 - DEBUG - Importing user_router
2025-05-01 06:33:53,675 - DEBUG - Importing room_router
2025-05-01 06:33:53,678 - DEBUG - Loading rooms.py module
2025-05-01 06:33:53,683 - DEBUG - Including room_router
2025-05-01 06:33:53,687 - DEBUG - Importing bet_router
2025-05-01 06:33:53,689 - DEBUG - Importing message_router
2025-05-01 06:33:53,691 - DEBUG - Importing auth_router
2025-05-01 06:33:53,692 - DEBUG - Importing notification_router
2025-05-01 06:33:53,692 - DEBUG - Completed router imports
2025-05-01 06:33:53,692 - DEBUG - Initializing database
2025-05-01 06:33:54,215 - DEBUG - Database initialized successfully
2025-05-01 06:33:54,215 - INFO - Database initialized successfully!
2025-05-01 06:33:58,828 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:33:58,999 - DEBUG - User authenticated: id=9
2025-05-01 06:33:58,999 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:33:59,065 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:33:59,108 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:33:59,197 - DEBUG - User authenticated: id=9
2025-05-01 06:33:59,434 - INFO - Successfully fetched 8 public rooms
2025-05-01 06:33:59,435 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:33:59,509 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:33:59,673 - INFO - Successfully fetched 8 public rooms
2025-05-01 06:33:59,674 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:33:59,805 - DEBUG - User authenticated: id=9
2025-05-01 06:33:59,840 - INFO - Successfully fetched 6 rooms for user 9
2025-05-01 06:33:59,874 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:33:59,962 - DEBUG - User authenticated: id=9
2025-05-01 06:33:59,994 - INFO - Successfully fetched 6 rooms for user 9
2025-05-01 06:34:23,581 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:34:23,710 - DEBUG - User authenticated: id=9
2025-05-01 06:34:24,261 - INFO - Public room 17 created by user 9
2025-05-01 06:34:29,352 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:34:29,631 - DEBUG - User authenticated: id=9
2025-05-01 06:34:29,632 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:34:29,694 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:34:29,730 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:34:29,821 - DEBUG - User authenticated: id=9
2025-05-01 06:34:29,823 - INFO - Successfully fetched 9 public rooms
2025-05-01 06:34:29,824 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:34:29,888 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:34:30,018 - INFO - Successfully fetched 9 public rooms
2025-05-01 06:34:30,019 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:34:30,107 - DEBUG - User authenticated: id=9
2025-05-01 06:34:30,138 - INFO - Successfully fetched 7 rooms for user 9
2025-05-01 06:34:30,173 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:34:30,260 - DEBUG - User authenticated: id=9
2025-05-01 06:34:30,291 - INFO - Successfully fetched 7 rooms for user 9
2025-05-01 06:34:32,588 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:34:32,688 - DEBUG - User authenticated: id=9
2025-05-01 06:34:32,688 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:34:32,750 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:34:32,784 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:34:32,873 - DEBUG - User authenticated: id=9
2025-05-01 06:34:32,873 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:34:32,935 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:34:34,707 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:34:34,795 - DEBUG - User authenticated: id=9
2025-05-01 06:34:34,796 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:34:34,856 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:34:34,889 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:34:34,892 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:34:34,976 - DEBUG - User authenticated: id=9
2025-05-01 06:34:34,977 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:34:34,978 - DEBUG - User authenticated: id=9
2025-05-01 06:34:35,035 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:34:35,067 - INFO - Successfully fetched 7 rooms for user 9
2025-05-01 06:34:35,105 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:34:35,110 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:34:35,194 - DEBUG - User authenticated: id=9
2025-05-01 06:34:35,194 - DEBUG - Fetching messages for room 1 by user 9
2025-05-01 06:34:35,197 - DEBUG - User authenticated: id=9
2025-05-01 06:34:35,385 - INFO - Retrieved 4 messages for room 1
2025-05-01 06:34:35,600 - INFO - Successfully fetched 7 rooms for user 9
2025-05-01 06:34:35,637 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:34:35,648 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:34:35,724 - DEBUG - User authenticated: id=9
2025-05-01 06:34:35,735 - DEBUG - User authenticated: id=9
2025-05-01 06:34:35,906 - INFO - User 9 fetched 3 members for room 1
2025-05-01 06:34:35,907 - DEBUG - Fetching messages for room 1 by user 9
2025-05-01 06:34:36,086 - INFO - Retrieved 4 messages for room 1
2025-05-01 06:34:36,308 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:34:36,395 - DEBUG - User authenticated: id=9
2025-05-01 06:34:36,578 - INFO - User 9 fetched 3 members for room 1
2025-05-01 06:34:37,349 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:34:37,448 - DEBUG - User authenticated: id=9
2025-05-01 06:34:37,448 - DEBUG - Fetching messages for room 17 by user 9
2025-05-01 06:34:37,571 - INFO - Retrieved 0 messages for room 17
2025-05-01 06:34:37,580 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:34:37,669 - DEBUG - User authenticated: id=9
2025-05-01 06:34:37,790 - INFO - User 9 fetched 1 members for room 17
2025-05-01 06:34:49,921 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:34:50,015 - DEBUG - User authenticated: id=9
2025-05-01 06:34:50,087 - DEBUG - Attempting to send message to room 17 by user 9
2025-05-01 06:34:50,293 - INFO - Message created: 25
2025-05-01 06:34:50,345 - DEBUG - Starting new HTTPS connection (1): api-ap2.pusher.com:443
2025-05-01 06:34:50,481 - DEBUG - https://api-ap2.pusher.com:443 "POST /apps/1982436/events?auth_key=ce28e8f8898bf7fe20bb&auth_signature=0c240f13fb126c5b8809979e05728a1ff92df04a7d7c71ab25c6707efec25b10&auth_timestamp=1746061490&auth_version=1.0&body_md5=d0edfe40bd535b850e063303988edf56 HTTP/1.1" 200 2
2025-05-01 06:34:50,483 - DEBUG - Pusher trigger response for room-17: {}
2025-05-01 06:34:51,790 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:34:51,887 - DEBUG - User authenticated: id=9
2025-05-01 06:34:51,889 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:34:51,950 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:34:51,985 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:34:51,989 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:34:52,073 - DEBUG - User authenticated: id=9
2025-05-01 06:34:52,073 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:34:52,075 - DEBUG - User authenticated: id=9
2025-05-01 06:34:52,134 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:34:52,167 - INFO - Successfully fetched 7 rooms for user 9
2025-05-01 06:34:52,202 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:34:52,207 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:34:52,213 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:34:52,291 - DEBUG - User authenticated: id=9
2025-05-01 06:34:52,293 - DEBUG - User authenticated: id=9
2025-05-01 06:34:52,410 - INFO - User 9 fetched 1 members for room 17
2025-05-01 06:34:52,410 - DEBUG - Fetching messages for room 17 by user 9
2025-05-01 06:34:52,469 - DEBUG - User authenticated: id=9
2025-05-01 06:34:52,559 - INFO - Retrieved 1 messages for room 17
2025-05-01 06:34:52,677 - INFO - Successfully fetched 7 rooms for user 9
2025-05-01 06:34:52,684 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:34:52,712 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:34:52,713 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:34:52,772 - DEBUG - User authenticated: id=9
2025-05-01 06:34:52,800 - DEBUG - User authenticated: id=9
2025-05-01 06:34:52,801 - DEBUG - User authenticated: id=9
2025-05-01 06:34:52,832 - ERROR - Error fetching bets for room 17: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum role: "ADMIN"
LINE 3: ...user_id = 9 AND room_members.role IN ('SUPERUSER', 'ADMIN') 
                                                              ^

[SQL: SELECT room_members.id AS room_members_id, room_members.room_id AS room_members_room_id, room_members.user_id AS room_members_user_id, room_members.role AS room_members_role 
FROM room_members 
WHERE room_members.room_id = %(room_id_1)s AND room_members.user_id = %(user_id_1)s AND room_members.role IN (%(role_1_1)s, %(role_1_2)s) 
 LIMIT %(param_1)s]
[parameters: {'room_id_1': 17, 'user_id_1': 9, 'param_1': 1, 'role_1_1': 'SUPERUSER', 'role_1_2': 'ADMIN'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-05-01 06:34:52,952 - INFO - User 9 fetched 1 members for room 17
2025-05-01 06:34:52,952 - DEBUG - Fetching messages for room 17 by user 9
2025-05-01 06:34:53,101 - INFO - Retrieved 1 messages for room 17
2025-05-01 06:34:53,226 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:34:53,227 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:34:53,313 - DEBUG - User authenticated: id=9
2025-05-01 06:34:53,314 - DEBUG - User authenticated: id=9
2025-05-01 06:34:53,377 - ERROR - Error fetching bets for room 17: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum role: "ADMIN"
LINE 3: ...user_id = 9 AND room_members.role IN ('SUPERUSER', 'ADMIN') 
                                                              ^

[SQL: SELECT room_members.id AS room_members_id, room_members.room_id AS room_members_room_id, room_members.user_id AS room_members_user_id, room_members.role AS room_members_role 
FROM room_members 
WHERE room_members.room_id = %(room_id_1)s AND room_members.user_id = %(user_id_1)s AND room_members.role IN (%(role_1_1)s, %(role_1_2)s) 
 LIMIT %(param_1)s]
[parameters: {'room_id_1': 17, 'user_id_1': 9, 'param_1': 1, 'role_1_1': 'SUPERUSER', 'role_1_2': 'ADMIN'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-05-01 06:34:53,409 - INFO - User 9 fetched 0 notifications
2025-05-01 06:34:53,445 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:34:53,533 - DEBUG - User authenticated: id=9
2025-05-01 06:34:53,565 - INFO - User 9 fetched 0 notifications
2025-05-01 06:35:50,071 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:35:50,162 - DEBUG - User authenticated: id=9
2025-05-01 06:35:50,512 - INFO - Bet 1 created by user 9 in room 17 with SUPERUSER mediator 9
2025-05-01 06:38:21,212 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:38:21,314 - DEBUG - User authenticated: id=9
2025-05-01 06:38:21,315 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:38:21,374 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:38:21,414 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:38:21,416 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:38:21,505 - DEBUG - User authenticated: id=9
2025-05-01 06:38:21,506 - DEBUG - User authenticated: id=9
2025-05-01 06:38:21,507 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:38:21,568 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:38:21,611 - INFO - Successfully fetched 7 rooms for user 9
2025-05-01 06:38:21,673 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:38:21,677 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:38:21,758 - DEBUG - User authenticated: id=9
2025-05-01 06:38:21,762 - DEBUG - User authenticated: id=9
2025-05-01 06:38:21,789 - INFO - Successfully fetched 7 rooms for user 9
2025-05-01 06:38:21,792 - DEBUG - Fetching messages for room 1 by user 9
2025-05-01 06:38:21,975 - INFO - Retrieved 4 messages for room 1
2025-05-01 06:38:22,193 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:38:22,194 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:38:22,278 - DEBUG - User authenticated: id=9
2025-05-01 06:38:22,278 - DEBUG - User authenticated: id=9
2025-05-01 06:38:22,278 - DEBUG - Fetching messages for room 1 by user 9
2025-05-01 06:38:22,459 - INFO - Retrieved 4 messages for room 1
2025-05-01 06:38:22,825 - INFO - User 9 fetched 3 members for room 1
2025-05-01 06:38:22,861 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:38:22,956 - DEBUG - User authenticated: id=9
2025-05-01 06:38:23,231 - INFO - User 9 fetched 3 members for room 1
2025-05-01 06:38:26,148 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:38:26,391 - DEBUG - User authenticated: id=9
2025-05-01 06:38:26,392 - DEBUG - Fetching messages for room 10 by user 9
2025-05-01 06:38:26,663 - INFO - Retrieved 4 messages for room 10
2025-05-01 06:38:26,883 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:38:26,976 - DEBUG - User authenticated: id=9
2025-05-01 06:38:27,125 - INFO - User 9 fetched 2 members for room 10
2025-05-01 06:38:28,495 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:38:28,593 - DEBUG - User authenticated: id=9
2025-05-01 06:38:28,593 - DEBUG - Fetching messages for room 12 by user 9
2025-05-01 06:38:28,741 - INFO - Retrieved 2 messages for room 12
2025-05-01 06:38:28,892 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:38:28,993 - DEBUG - User authenticated: id=9
2025-05-01 06:38:29,468 - INFO - User 9 fetched 1 members for room 12
2025-05-01 06:38:30,433 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:38:30,524 - DEBUG - User authenticated: id=9
2025-05-01 06:38:30,525 - DEBUG - Fetching messages for room 13 by user 9
2025-05-01 06:38:30,829 - INFO - Retrieved 7 messages for room 13
2025-05-01 06:38:31,137 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:38:31,225 - DEBUG - User authenticated: id=9
2025-05-01 06:38:31,400 - INFO - User 9 fetched 3 members for room 13
2025-05-01 06:38:33,839 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:38:33,934 - DEBUG - User authenticated: id=9
2025-05-01 06:38:33,935 - DEBUG - Fetching messages for room 14 by user 9
2025-05-01 06:38:34,115 - INFO - Retrieved 3 messages for room 14
2025-05-01 06:38:34,302 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:38:34,390 - DEBUG - User authenticated: id=9
2025-05-01 06:38:34,509 - INFO - User 9 fetched 1 members for room 14
2025-05-01 06:38:35,638 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:38:35,725 - DEBUG - User authenticated: id=9
2025-05-01 06:38:35,726 - DEBUG - Fetching messages for room 16 by user 9
2025-05-01 06:38:35,849 - INFO - Retrieved 1 messages for room 16
2025-05-01 06:38:35,972 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:38:36,063 - DEBUG - User authenticated: id=9
2025-05-01 06:38:36,280 - INFO - User 9 fetched 2 members for room 16
2025-05-01 06:38:38,216 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:38:38,310 - DEBUG - User authenticated: id=9
2025-05-01 06:38:38,311 - DEBUG - Fetching messages for room 13 by user 9
2025-05-01 06:38:38,609 - INFO - Retrieved 7 messages for room 13
2025-05-01 06:38:38,905 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:38:38,994 - DEBUG - User authenticated: id=9
2025-05-01 06:38:39,174 - INFO - User 9 fetched 3 members for room 13
2025-05-01 06:39:20,970 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:39:21,067 - DEBUG - User authenticated: id=9
2025-05-01 06:39:21,068 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:39:21,275 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:39:21,331 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:39:21,425 - DEBUG - User authenticated: id=9
2025-05-01 06:39:21,426 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:39:21,511 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:41:18,419 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:41:18,516 - DEBUG - User authenticated: id=9
2025-05-01 06:41:18,517 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:41:18,580 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:41:18,613 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:41:18,701 - DEBUG - User authenticated: id=9
2025-05-01 06:41:18,706 - INFO - Successfully fetched 9 public rooms
2025-05-01 06:41:18,706 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:41:18,765 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:41:18,802 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:41:18,891 - DEBUG - User authenticated: id=9
2025-05-01 06:41:18,896 - INFO - Successfully fetched 9 public rooms
2025-05-01 06:41:18,928 - INFO - Successfully fetched 7 rooms for user 9
2025-05-01 06:41:18,968 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:41:19,067 - DEBUG - User authenticated: id=9
2025-05-01 06:41:19,099 - INFO - Successfully fetched 7 rooms for user 9
2025-05-01 06:41:37,987 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:41:38,084 - DEBUG - User authenticated: id=9
2025-05-01 06:41:38,085 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:41:38,145 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:41:38,180 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:41:38,266 - DEBUG - User authenticated: id=9
2025-05-01 06:41:38,266 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:41:38,325 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:41:40,152 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:41:40,248 - DEBUG - User authenticated: id=9
2025-05-01 06:41:40,249 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:41:40,311 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:41:40,351 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:41:40,354 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:41:40,439 - DEBUG - User authenticated: id=9
2025-05-01 06:41:40,440 - DEBUG - User authenticated: id=9
2025-05-01 06:41:40,471 - INFO - Successfully fetched 7 rooms for user 9
2025-05-01 06:41:40,471 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:41:40,530 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:41:40,567 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:41:40,571 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:41:40,655 - DEBUG - User authenticated: id=9
2025-05-01 06:41:40,656 - DEBUG - User authenticated: id=9
2025-05-01 06:41:40,688 - INFO - Successfully fetched 7 rooms for user 9
2025-05-01 06:41:40,689 - DEBUG - Fetching messages for room 1 by user 9
2025-05-01 06:41:40,873 - INFO - Retrieved 4 messages for room 1
2025-05-01 06:41:41,089 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:41:41,090 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:41:41,177 - DEBUG - User authenticated: id=9
2025-05-01 06:41:41,178 - DEBUG - User authenticated: id=9
2025-05-01 06:41:41,357 - INFO - User 9 fetched 3 members for room 1
2025-05-01 06:41:41,359 - DEBUG - Fetching messages for room 1 by user 9
2025-05-01 06:41:41,537 - INFO - Retrieved 4 messages for room 1
2025-05-01 06:41:42,624 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:41:42,719 - DEBUG - User authenticated: id=9
2025-05-01 06:41:42,898 - INFO - User 9 fetched 3 members for room 1
2025-05-01 06:43:52,595 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:43:52,697 - DEBUG - User authenticated: id=9
2025-05-01 06:43:52,697 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:43:52,762 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:43:52,802 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 06:43:52,889 - DEBUG - User authenticated: id=9
2025-05-01 06:43:52,889 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 06:43:52,947 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 06:43:59,281 - DEBUG - Logout attempt: token=eyJhbGciOi...
2025-05-01 06:43:59,284 - ERROR - JWT error during logout: Signature verification failed.
2025-05-01 07:13:31,622 - DEBUG - Login attempt: email=nhaal160@gmail.com, username=None
2025-05-01 07:13:31,731 - DEBUG - Verifying password: hashed=$2b$12$84p...
2025-05-01 07:13:31,735 - DEBUG - detected 'bcrypt' backend, version '4.0.1'
2025-05-01 07:13:31,736 - DEBUG - 'bcrypt' backend lacks $2$ support, enabling workaround
2025-05-01 07:13:32,023 - DEBUG - Creating access token for data: {'sub': '9'}
2025-05-01 07:13:32,036 - DEBUG - Access token created: eyJhbGciOi...
2025-05-01 07:13:32,036 - DEBUG - Creating refresh token for user_id: 9
2025-05-01 07:13:32,101 - DEBUG - Refresh token stored: eyJhbGciOi...
2025-05-01 07:13:32,185 - INFO - Login successful: user_id=9, username=nihal
2025-05-01 07:13:32,241 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:32,329 - DEBUG - User authenticated: id=9
2025-05-01 07:13:32,330 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 07:13:32,391 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 07:13:32,424 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:32,515 - DEBUG - User authenticated: id=9
2025-05-01 07:13:32,516 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 07:13:32,578 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 07:13:33,960 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:34,047 - DEBUG - User authenticated: id=9
2025-05-01 07:13:34,047 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 07:13:34,105 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 07:13:34,136 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:34,141 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:34,226 - DEBUG - User authenticated: id=9
2025-05-01 07:13:34,226 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 07:13:34,234 - DEBUG - User authenticated: id=9
2025-05-01 07:13:34,288 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 07:13:34,325 - INFO - Successfully fetched 7 rooms for user 9
2025-05-01 07:13:34,360 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:34,371 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:34,445 - DEBUG - User authenticated: id=9
2025-05-01 07:13:34,459 - DEBUG - User authenticated: id=9
2025-05-01 07:13:34,475 - INFO - Successfully fetched 7 rooms for user 9
2025-05-01 07:13:34,476 - DEBUG - Fetching messages for room 1 by user 9
2025-05-01 07:13:34,655 - INFO - Retrieved 4 messages for room 1
2025-05-01 07:13:34,873 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:34,876 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:34,960 - DEBUG - User authenticated: id=9
2025-05-01 07:13:34,961 - DEBUG - Fetching messages for room 1 by user 9
2025-05-01 07:13:34,961 - DEBUG - User authenticated: id=9
2025-05-01 07:13:35,140 - INFO - Retrieved 4 messages for room 1
2025-05-01 07:13:35,497 - INFO - User 9 fetched 3 members for room 1
2025-05-01 07:13:35,551 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:35,638 - DEBUG - User authenticated: id=9
2025-05-01 07:13:35,818 - INFO - User 9 fetched 3 members for room 1
2025-05-01 07:13:36,919 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:37,004 - DEBUG - User authenticated: id=9
2025-05-01 07:13:37,005 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 07:13:37,064 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 07:13:37,096 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:37,185 - DEBUG - User authenticated: id=9
2025-05-01 07:13:37,186 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 07:13:37,250 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 07:13:38,135 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:38,225 - DEBUG - User authenticated: id=9
2025-05-01 07:13:38,226 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 07:13:38,286 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 07:13:38,320 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:38,405 - DEBUG - User authenticated: id=9
2025-05-01 07:13:38,411 - INFO - Successfully fetched 9 public rooms
2025-05-01 07:13:38,412 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 07:13:38,470 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 07:13:38,502 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:38,591 - DEBUG - User authenticated: id=9
2025-05-01 07:13:38,603 - INFO - Successfully fetched 9 public rooms
2025-05-01 07:13:38,635 - INFO - Successfully fetched 7 rooms for user 9
2025-05-01 07:13:38,667 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:38,753 - DEBUG - User authenticated: id=9
2025-05-01 07:13:38,784 - INFO - Successfully fetched 7 rooms for user 9
2025-05-01 07:13:50,277 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:50,366 - DEBUG - User authenticated: id=9
2025-05-01 07:13:50,367 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 07:13:50,428 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 07:13:50,461 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:50,549 - DEBUG - User authenticated: id=9
2025-05-01 07:13:50,550 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 07:13:50,610 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 07:13:51,281 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:51,368 - DEBUG - User authenticated: id=9
2025-05-01 07:13:51,368 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 07:13:51,427 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 07:13:51,469 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:51,473 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:51,559 - DEBUG - User authenticated: id=9
2025-05-01 07:13:51,560 - DEBUG - User authenticated: id=9
2025-05-01 07:13:51,560 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 07:13:51,621 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 07:13:51,651 - INFO - Successfully fetched 7 rooms for user 9
2025-05-01 07:13:51,687 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:51,688 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:51,774 - DEBUG - User authenticated: id=9
2025-05-01 07:13:51,775 - DEBUG - User authenticated: id=9
2025-05-01 07:13:51,775 - DEBUG - Fetching messages for room 1 by user 9
2025-05-01 07:13:51,952 - INFO - Retrieved 4 messages for room 1
2025-05-01 07:13:52,168 - INFO - Successfully fetched 7 rooms for user 9
2025-05-01 07:13:52,202 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:52,204 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:52,289 - DEBUG - User authenticated: id=9
2025-05-01 07:13:52,297 - DEBUG - User authenticated: id=9
2025-05-01 07:13:52,465 - INFO - User 9 fetched 3 members for room 1
2025-05-01 07:13:52,466 - DEBUG - Fetching messages for room 1 by user 9
2025-05-01 07:13:52,654 - INFO - Retrieved 4 messages for room 1
2025-05-01 07:13:52,868 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:52,957 - DEBUG - User authenticated: id=9
2025-05-01 07:13:53,138 - INFO - User 9 fetched 3 members for room 1
2025-05-01 07:13:54,223 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:54,311 - DEBUG - User authenticated: id=9
2025-05-01 07:13:54,313 - DEBUG - Fetching messages for room 17 by user 9
2025-05-01 07:13:54,462 - INFO - Retrieved 1 messages for room 17
2025-05-01 07:13:54,582 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:54,671 - DEBUG - User authenticated: id=9
2025-05-01 07:13:54,795 - INFO - User 9 fetched 1 members for room 17
2025-05-01 07:13:55,623 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:55,708 - DEBUG - User authenticated: id=9
2025-05-01 07:13:55,710 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 07:13:55,770 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 07:13:55,805 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:55,806 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:55,894 - DEBUG - User authenticated: id=9
2025-05-01 07:13:55,895 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 07:13:55,895 - DEBUG - User authenticated: id=9
2025-05-01 07:13:55,958 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 07:13:55,990 - INFO - Successfully fetched 7 rooms for user 9
2025-05-01 07:13:56,024 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:56,025 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:56,029 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:56,113 - DEBUG - User authenticated: id=9
2025-05-01 07:13:56,115 - DEBUG - User authenticated: id=9
2025-05-01 07:13:56,122 - DEBUG - User authenticated: id=9
2025-05-01 07:13:56,144 - INFO - Successfully fetched 7 rooms for user 9
2025-05-01 07:13:56,262 - INFO - User 9 fetched 1 members for room 17
2025-05-01 07:13:56,263 - DEBUG - Fetching messages for room 17 by user 9
2025-05-01 07:13:56,430 - INFO - Retrieved 1 messages for room 17
2025-05-01 07:13:56,557 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:56,558 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:56,560 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:56,642 - DEBUG - User authenticated: id=9
2025-05-01 07:13:56,642 - DEBUG - User authenticated: id=9
2025-05-01 07:13:56,652 - DEBUG - User authenticated: id=9
2025-05-01 07:13:56,758 - INFO - User 9 fetched 1 members for room 17
2025-05-01 07:13:56,821 - ERROR - Error fetching bets for room 17: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum role: "ADMIN"
LINE 3: ...user_id = 9 AND room_members.role IN ('SUPERUSER', 'ADMIN') 
                                                              ^

[SQL: SELECT room_members.id AS room_members_id, room_members.room_id AS room_members_room_id, room_members.user_id AS room_members_user_id, room_members.role AS room_members_role 
FROM room_members 
WHERE room_members.room_id = %(room_id_1)s AND room_members.user_id = %(user_id_1)s AND room_members.role IN (%(role_1_1)s, %(role_1_2)s) 
 LIMIT %(param_1)s]
[parameters: {'room_id_1': 17, 'user_id_1': 9, 'param_1': 1, 'role_1_1': 'SUPERUSER', 'role_1_2': 'ADMIN'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-05-01 07:13:56,822 - DEBUG - Fetching messages for room 17 by user 9
2025-05-01 07:13:56,973 - INFO - Retrieved 1 messages for room 17
2025-05-01 07:13:57,101 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:57,104 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:57,187 - DEBUG - User authenticated: id=9
2025-05-01 07:13:57,189 - DEBUG - User authenticated: id=9
2025-05-01 07:13:57,247 - ERROR - Error fetching bets for room 17: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum role: "ADMIN"
LINE 3: ...user_id = 9 AND room_members.role IN ('SUPERUSER', 'ADMIN') 
                                                              ^

[SQL: SELECT room_members.id AS room_members_id, room_members.room_id AS room_members_room_id, room_members.user_id AS room_members_user_id, room_members.role AS room_members_role 
FROM room_members 
WHERE room_members.room_id = %(room_id_1)s AND room_members.user_id = %(user_id_1)s AND room_members.role IN (%(role_1_1)s, %(role_1_2)s) 
 LIMIT %(param_1)s]
[parameters: {'room_id_1': 17, 'user_id_1': 9, 'param_1': 1, 'role_1_1': 'SUPERUSER', 'role_1_2': 'ADMIN'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-05-01 07:13:57,277 - INFO - User 9 fetched 0 notifications
2025-05-01 07:13:57,314 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:13:57,403 - DEBUG - User authenticated: id=9
2025-05-01 07:13:57,433 - INFO - User 9 fetched 0 notifications
2025-05-01 07:14:29,469 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:14:29,559 - DEBUG - User authenticated: id=9
2025-05-01 07:14:29,889 - INFO - Bet 2 created by user 9 in room 17 with SUPERUSER mediator 9
2025-05-01 07:15:23,221 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:15:23,314 - DEBUG - User authenticated: id=9
2025-05-01 07:15:23,315 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 07:15:23,384 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 07:15:23,419 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:15:23,423 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:15:23,511 - DEBUG - User authenticated: id=9
2025-05-01 07:15:23,512 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 07:15:23,539 - DEBUG - User authenticated: id=9
2025-05-01 07:15:23,570 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 07:15:23,602 - INFO - Successfully fetched 7 rooms for user 9
2025-05-01 07:15:23,635 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:15:23,639 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:15:23,725 - DEBUG - User authenticated: id=9
2025-05-01 07:15:23,726 - DEBUG - User authenticated: id=9
2025-05-01 07:15:23,727 - DEBUG - Fetching messages for room 1 by user 9
2025-05-01 07:15:23,910 - INFO - Retrieved 4 messages for room 1
2025-05-01 07:15:24,121 - INFO - Successfully fetched 7 rooms for user 9
2025-05-01 07:15:24,158 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:15:24,160 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:15:24,245 - DEBUG - User authenticated: id=9
2025-05-01 07:15:24,245 - DEBUG - User authenticated: id=9
2025-05-01 07:15:24,426 - INFO - User 9 fetched 3 members for room 1
2025-05-01 07:15:24,426 - DEBUG - Fetching messages for room 1 by user 9
2025-05-01 07:15:24,601 - INFO - Retrieved 4 messages for room 1
2025-05-01 07:15:24,817 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:15:24,902 - DEBUG - User authenticated: id=9
2025-05-01 07:15:25,079 - INFO - User 9 fetched 3 members for room 1
2025-05-01 07:15:26,126 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:15:26,213 - DEBUG - User authenticated: id=9
2025-05-01 07:15:26,214 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 07:15:26,276 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 07:15:26,314 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:15:26,404 - DEBUG - User authenticated: id=9
2025-05-01 07:15:26,404 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 07:15:26,465 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 07:15:28,161 - DEBUG - Logout attempt: token=eyJhbGciOi...
2025-05-01 07:15:28,162 - ERROR - JWT error during logout: Signature verification failed.
2025-05-01 07:20:03,646 - DEBUG - Login attempt: email=nhaal160@gmail.com, username=None
2025-05-01 07:20:03,737 - DEBUG - Verifying password: hashed=$2b$12$84p...
2025-05-01 07:20:04,033 - DEBUG - Creating access token for data: {'sub': '9'}
2025-05-01 07:20:04,034 - DEBUG - Access token created: eyJhbGciOi...
2025-05-01 07:20:04,034 - DEBUG - Creating refresh token for user_id: 9
2025-05-01 07:20:04,096 - DEBUG - Refresh token stored: eyJhbGciOi...
2025-05-01 07:20:04,183 - INFO - Login successful: user_id=9, username=nihal
2025-05-01 07:20:04,249 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:20:04,343 - DEBUG - User authenticated: id=9
2025-05-01 07:20:04,343 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 07:20:04,404 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 07:20:04,447 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:20:04,534 - DEBUG - User authenticated: id=9
2025-05-01 07:20:04,536 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 07:20:04,596 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 07:20:06,099 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:20:06,190 - DEBUG - User authenticated: id=9
2025-05-01 07:20:06,191 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 07:20:06,250 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 07:20:06,284 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:20:06,310 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:20:06,375 - DEBUG - User authenticated: id=9
2025-05-01 07:20:06,375 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 07:20:06,396 - DEBUG - User authenticated: id=9
2025-05-01 07:20:06,436 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 07:20:06,470 - INFO - Successfully fetched 7 rooms for user 9
2025-05-01 07:20:06,511 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:20:06,520 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:20:06,599 - DEBUG - User authenticated: id=9
2025-05-01 07:20:06,600 - DEBUG - Fetching messages for room 1 by user 9
2025-05-01 07:20:06,608 - DEBUG - User authenticated: id=9
2025-05-01 07:20:06,780 - INFO - Retrieved 4 messages for room 1
2025-05-01 07:20:06,991 - INFO - Successfully fetched 7 rooms for user 9
2025-05-01 07:20:07,026 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:20:07,036 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:20:07,113 - DEBUG - User authenticated: id=9
2025-05-01 07:20:07,123 - DEBUG - User authenticated: id=9
2025-05-01 07:20:07,294 - INFO - User 9 fetched 3 members for room 1
2025-05-01 07:20:07,295 - DEBUG - Fetching messages for room 1 by user 9
2025-05-01 07:20:07,471 - INFO - Retrieved 4 messages for room 1
2025-05-01 07:20:07,695 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:20:07,781 - DEBUG - User authenticated: id=9
2025-05-01 07:20:07,958 - INFO - User 9 fetched 3 members for room 1
2025-05-01 07:21:59,790 - DEBUG - Starting router imports
2025-05-01 07:21:59,790 - DEBUG - Importing user_router
2025-05-01 07:21:59,792 - DEBUG - Importing room_router
2025-05-01 07:21:59,793 - DEBUG - Loading rooms.py module
2025-05-01 07:21:59,798 - DEBUG - Including room_router
2025-05-01 07:21:59,804 - DEBUG - Importing bet_router
2025-05-01 07:21:59,805 - DEBUG - Importing message_router
2025-05-01 07:21:59,808 - DEBUG - Importing auth_router
2025-05-01 07:21:59,808 - DEBUG - Importing notification_router
2025-05-01 07:21:59,808 - DEBUG - Completed router imports
2025-05-01 07:21:59,809 - DEBUG - Initializing database
2025-05-01 07:22:00,508 - DEBUG - Database initialized successfully
2025-05-01 07:22:00,509 - INFO - Database initialized successfully!
2025-05-01 07:25:13,786 - DEBUG - Starting router imports
2025-05-01 07:25:13,786 - DEBUG - Importing user_router
2025-05-01 07:25:13,788 - DEBUG - Importing room_router
2025-05-01 07:25:13,788 - DEBUG - Loading rooms.py module
2025-05-01 07:25:13,793 - DEBUG - Including room_router
2025-05-01 07:25:13,797 - DEBUG - Importing bet_router
2025-05-01 07:25:13,798 - DEBUG - Importing message_router
2025-05-01 07:25:13,800 - DEBUG - Importing auth_router
2025-05-01 07:25:13,800 - DEBUG - Importing notification_router
2025-05-01 07:25:13,800 - DEBUG - Completed router imports
2025-05-01 07:25:13,800 - DEBUG - Initializing database
2025-05-01 07:25:14,267 - DEBUG - Database initialized successfully
2025-05-01 07:25:14,267 - INFO - Database initialized successfully!
2025-05-01 07:26:27,596 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:27,742 - DEBUG - User authenticated: id=9
2025-05-01 07:26:27,743 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 07:26:27,802 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 07:26:27,834 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:27,924 - DEBUG - User authenticated: id=9
2025-05-01 07:26:27,926 - DEBUG - Fetching profile for user_id=9, username=nihal
2025-05-01 07:26:27,989 - INFO - User profile fetched: id=9, username=nihal
2025-05-01 07:26:29,083 - DEBUG - Logout attempt: token=eyJhbGciOi...
2025-05-01 07:26:29,084 - ERROR - JWT error during logout: Signature verification failed.
2025-05-01 07:26:42,000 - DEBUG - Login attempt: email=shahid@gmail.com, username=None
2025-05-01 07:26:42,088 - DEBUG - Verifying password: hashed=$2b$12$Owc...
2025-05-01 07:26:42,089 - DEBUG - detected 'bcrypt' backend, version '4.0.1'
2025-05-01 07:26:42,089 - DEBUG - 'bcrypt' backend lacks $2$ support, enabling workaround
2025-05-01 07:26:42,387 - DEBUG - Creating access token for data: {'sub': '11'}
2025-05-01 07:26:42,387 - DEBUG - Access token created: eyJhbGciOi...
2025-05-01 07:26:42,387 - DEBUG - Creating refresh token for user_id: 11
2025-05-01 07:26:42,450 - DEBUG - Refresh token stored: eyJhbGciOi...
2025-05-01 07:26:42,538 - INFO - Login successful: user_id=11, username=shahid
2025-05-01 07:26:42,587 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:42,675 - DEBUG - User authenticated: id=11
2025-05-01 07:26:42,676 - DEBUG - Fetching profile for user_id=11, username=shahid
2025-05-01 07:26:42,735 - INFO - User profile fetched: id=11, username=shahid
2025-05-01 07:26:42,768 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:42,856 - DEBUG - User authenticated: id=11
2025-05-01 07:26:42,857 - DEBUG - Fetching profile for user_id=11, username=shahid
2025-05-01 07:26:42,917 - INFO - User profile fetched: id=11, username=shahid
2025-05-01 07:26:45,178 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:45,271 - DEBUG - User authenticated: id=11
2025-05-01 07:26:45,271 - DEBUG - Fetching profile for user_id=11, username=shahid
2025-05-01 07:26:45,331 - INFO - User profile fetched: id=11, username=shahid
2025-05-01 07:26:45,365 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:45,452 - DEBUG - User authenticated: id=11
2025-05-01 07:26:45,657 - INFO - Successfully fetched 9 public rooms
2025-05-01 07:26:45,659 - DEBUG - Fetching profile for user_id=11, username=shahid
2025-05-01 07:26:45,722 - INFO - User profile fetched: id=11, username=shahid
2025-05-01 07:26:45,762 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:45,850 - DEBUG - User authenticated: id=11
2025-05-01 07:26:45,864 - INFO - Successfully fetched 9 public rooms
2025-05-01 07:26:45,900 - INFO - Successfully fetched 5 rooms for user 11
2025-05-01 07:26:45,934 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:46,023 - DEBUG - User authenticated: id=11
2025-05-01 07:26:46,055 - INFO - Successfully fetched 5 rooms for user 11
2025-05-01 07:26:48,231 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:48,320 - DEBUG - User authenticated: id=11
2025-05-01 07:26:48,538 - INFO - User 11 joined room 17
2025-05-01 07:26:50,150 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:50,239 - DEBUG - User authenticated: id=11
2025-05-01 07:26:50,240 - DEBUG - Fetching profile for user_id=11, username=shahid
2025-05-01 07:26:50,304 - INFO - User profile fetched: id=11, username=shahid
2025-05-01 07:26:50,341 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:50,431 - DEBUG - User authenticated: id=11
2025-05-01 07:26:50,439 - INFO - Successfully fetched 9 public rooms
2025-05-01 07:26:50,443 - DEBUG - Fetching profile for user_id=11, username=shahid
2025-05-01 07:26:50,504 - INFO - User profile fetched: id=11, username=shahid
2025-05-01 07:26:50,632 - INFO - Successfully fetched 9 public rooms
2025-05-01 07:26:50,633 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:50,728 - DEBUG - User authenticated: id=11
2025-05-01 07:26:50,762 - INFO - Successfully fetched 6 rooms for user 11
2025-05-01 07:26:50,795 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:50,885 - DEBUG - User authenticated: id=11
2025-05-01 07:26:50,917 - INFO - Successfully fetched 6 rooms for user 11
2025-05-01 07:26:51,942 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:52,031 - DEBUG - User authenticated: id=11
2025-05-01 07:26:52,033 - DEBUG - Fetching profile for user_id=11, username=shahid
2025-05-01 07:26:52,093 - INFO - User profile fetched: id=11, username=shahid
2025-05-01 07:26:52,127 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:52,217 - DEBUG - User authenticated: id=11
2025-05-01 07:26:52,218 - DEBUG - Fetching profile for user_id=11, username=shahid
2025-05-01 07:26:52,277 - INFO - User profile fetched: id=11, username=shahid
2025-05-01 07:26:53,110 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:53,198 - DEBUG - User authenticated: id=11
2025-05-01 07:26:53,199 - DEBUG - Fetching profile for user_id=11, username=shahid
2025-05-01 07:26:53,259 - INFO - User profile fetched: id=11, username=shahid
2025-05-01 07:26:53,292 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:53,293 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:53,380 - DEBUG - User authenticated: id=11
2025-05-01 07:26:53,380 - DEBUG - User authenticated: id=11
2025-05-01 07:26:53,418 - INFO - Successfully fetched 6 rooms for user 11
2025-05-01 07:26:53,419 - DEBUG - Fetching profile for user_id=11, username=shahid
2025-05-01 07:26:53,481 - INFO - User profile fetched: id=11, username=shahid
2025-05-01 07:26:53,525 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:53,532 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:53,612 - DEBUG - User authenticated: id=11
2025-05-01 07:26:53,618 - DEBUG - User authenticated: id=11
2025-05-01 07:26:53,643 - INFO - Successfully fetched 6 rooms for user 11
2025-05-01 07:26:53,644 - DEBUG - Fetching messages for room 1 by user 11
2025-05-01 07:26:53,830 - INFO - Retrieved 4 messages for room 1
2025-05-01 07:26:54,065 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:54,068 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:54,153 - DEBUG - User authenticated: id=11
2025-05-01 07:26:54,154 - DEBUG - User authenticated: id=11
2025-05-01 07:26:54,155 - DEBUG - Fetching messages for room 1 by user 11
2025-05-01 07:26:54,336 - INFO - Retrieved 4 messages for room 1
2025-05-01 07:26:54,696 - INFO - User 11 fetched 3 members for room 1
2025-05-01 07:26:54,745 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:54,832 - DEBUG - User authenticated: id=11
2025-05-01 07:26:55,012 - INFO - User 11 fetched 3 members for room 1
2025-05-01 07:26:55,180 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:55,267 - DEBUG - User authenticated: id=11
2025-05-01 07:26:55,268 - DEBUG - Fetching messages for room 17 by user 11
2025-05-01 07:26:55,423 - INFO - Retrieved 1 messages for room 17
2025-05-01 07:26:55,547 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:55,635 - DEBUG - User authenticated: id=11
2025-05-01 07:26:55,791 - INFO - User 11 fetched 2 members for room 17
2025-05-01 07:26:57,837 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:57,926 - DEBUG - User authenticated: id=11
2025-05-01 07:26:57,927 - DEBUG - Fetching profile for user_id=11, username=shahid
2025-05-01 07:26:57,989 - INFO - User profile fetched: id=11, username=shahid
2025-05-01 07:26:58,019 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:58,020 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:58,106 - DEBUG - User authenticated: id=11
2025-05-01 07:26:58,106 - DEBUG - User authenticated: id=11
2025-05-01 07:26:58,136 - INFO - Successfully fetched 6 rooms for user 11
2025-05-01 07:26:58,136 - DEBUG - Fetching profile for user_id=11, username=shahid
2025-05-01 07:26:58,196 - INFO - User profile fetched: id=11, username=shahid
2025-05-01 07:26:58,238 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:58,241 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:58,261 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:58,327 - DEBUG - User authenticated: id=11
2025-05-01 07:26:58,327 - DEBUG - User authenticated: id=11
2025-05-01 07:26:58,478 - INFO - User 11 fetched 2 members for room 17
2025-05-01 07:26:58,479 - DEBUG - Fetching messages for room 17 by user 11
2025-05-01 07:26:58,515 - DEBUG - User authenticated: id=11
2025-05-01 07:26:58,629 - INFO - Retrieved 1 messages for room 17
2025-05-01 07:26:58,747 - INFO - Successfully fetched 6 rooms for user 11
2025-05-01 07:26:58,772 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:58,778 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:58,797 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:58,857 - DEBUG - User authenticated: id=11
2025-05-01 07:26:58,863 - DEBUG - User authenticated: id=11
2025-05-01 07:26:58,885 - DEBUG - User authenticated: id=11
2025-05-01 07:26:58,888 - INFO - User 11 fetched 0 notifications
2025-05-01 07:26:59,036 - INFO - User 11 fetched 2 members for room 17
2025-05-01 07:26:59,036 - DEBUG - Fetching messages for room 17 by user 11
2025-05-01 07:26:59,189 - INFO - Retrieved 1 messages for room 17
2025-05-01 07:26:59,321 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:26:59,407 - DEBUG - User authenticated: id=11
2025-05-01 07:26:59,437 - INFO - User 11 fetched 0 notifications
2025-05-01 07:27:29,061 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:27:29,151 - DEBUG - User authenticated: id=11
2025-05-01 07:28:22,030 - DEBUG - Starting router imports
2025-05-01 07:28:22,031 - DEBUG - Importing user_router
2025-05-01 07:28:22,033 - DEBUG - Importing room_router
2025-05-01 07:28:22,033 - DEBUG - Loading rooms.py module
2025-05-01 07:28:22,041 - DEBUG - Including room_router
2025-05-01 07:28:22,046 - DEBUG - Importing bet_router
2025-05-01 07:28:22,047 - DEBUG - Importing message_router
2025-05-01 07:28:22,048 - DEBUG - Importing auth_router
2025-05-01 07:28:22,048 - DEBUG - Importing notification_router
2025-05-01 07:28:22,049 - DEBUG - Completed router imports
2025-05-01 07:28:22,049 - DEBUG - Initializing database
2025-05-01 07:28:22,597 - DEBUG - Database initialized successfully
2025-05-01 07:28:22,598 - INFO - Database initialized successfully!
2025-05-01 07:28:32,247 - DEBUG - Starting router imports
2025-05-01 07:28:32,247 - DEBUG - Importing user_router
2025-05-01 07:28:32,249 - DEBUG - Importing room_router
2025-05-01 07:28:32,249 - DEBUG - Loading rooms.py module
2025-05-01 07:28:32,254 - DEBUG - Including room_router
2025-05-01 07:28:32,258 - DEBUG - Importing bet_router
2025-05-01 07:28:32,259 - DEBUG - Importing message_router
2025-05-01 07:28:32,261 - DEBUG - Importing auth_router
2025-05-01 07:28:32,261 - DEBUG - Importing notification_router
2025-05-01 07:28:32,261 - DEBUG - Completed router imports
2025-05-01 07:28:32,262 - DEBUG - Initializing database
2025-05-01 07:28:32,727 - DEBUG - Database initialized successfully
2025-05-01 07:28:32,727 - INFO - Database initialized successfully!
2025-05-01 07:28:49,465 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:28:49,465 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:28:49,580 - DEBUG - User authenticated: id=11
2025-05-01 07:28:49,580 - DEBUG - Fetching profile for user_id=11, username=shahid
2025-05-01 07:28:49,643 - INFO - User profile fetched: id=11, username=shahid
2025-05-01 07:28:49,684 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:28:49,740 - DEBUG - User authenticated: id=11
2025-05-01 07:28:49,741 - DEBUG - Fetching messages for room 17 by user 11
2025-05-01 07:28:49,795 - DEBUG - User authenticated: id=11
2025-05-01 07:28:49,913 - INFO - Retrieved 1 messages for room 17
2025-05-01 07:28:50,041 - INFO - Successfully fetched 6 rooms for user 11
2025-05-01 07:28:50,082 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:28:50,086 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:28:50,168 - DEBUG - User authenticated: id=11
2025-05-01 07:28:50,169 - DEBUG - User authenticated: id=11
2025-05-01 07:28:50,169 - DEBUG - Fetching messages for room 17 by user 11
2025-05-01 07:28:50,317 - INFO - Retrieved 1 messages for room 17
2025-05-01 07:28:50,571 - INFO - User 11 fetched 2 members for room 17
2025-05-01 07:28:50,615 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:28:50,705 - DEBUG - User authenticated: id=11
2025-05-01 07:28:50,893 - INFO - User 11 fetched 2 bets for room 17
2025-05-01 07:28:50,933 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:28:51,019 - DEBUG - User authenticated: id=11
2025-05-01 07:28:51,048 - INFO - User 11 fetched 0 notifications
2025-05-01 07:29:17,419 - DEBUG - Starting router imports
2025-05-01 07:29:17,419 - DEBUG - Importing user_router
2025-05-01 07:29:17,421 - DEBUG - Importing room_router
2025-05-01 07:29:17,422 - DEBUG - Loading rooms.py module
2025-05-01 07:29:17,426 - DEBUG - Including room_router
2025-05-01 07:29:17,434 - DEBUG - Importing bet_router
2025-05-01 07:29:17,435 - DEBUG - Importing message_router
2025-05-01 07:29:17,437 - DEBUG - Importing auth_router
2025-05-01 07:29:17,437 - DEBUG - Importing notification_router
2025-05-01 07:29:17,437 - DEBUG - Completed router imports
2025-05-01 07:29:17,438 - DEBUG - Initializing database
2025-05-01 07:29:17,901 - DEBUG - Database initialized successfully
2025-05-01 07:29:17,901 - INFO - Database initialized successfully!
2025-05-01 07:30:58,016 - DEBUG - Starting router imports
2025-05-01 07:30:58,016 - DEBUG - Importing user_router
2025-05-01 07:30:58,020 - DEBUG - Importing room_router
2025-05-01 07:30:58,021 - DEBUG - Loading rooms.py module
2025-05-01 07:30:58,031 - DEBUG - Including room_router
2025-05-01 07:30:58,036 - DEBUG - Importing bet_router
2025-05-01 07:30:58,037 - DEBUG - Importing message_router
2025-05-01 07:30:58,038 - DEBUG - Importing auth_router
2025-05-01 07:30:58,038 - DEBUG - Importing notification_router
2025-05-01 07:30:58,039 - DEBUG - Completed router imports
2025-05-01 07:30:58,039 - DEBUG - Initializing database
2025-05-01 07:30:58,528 - DEBUG - Database initialized successfully
2025-05-01 07:30:58,528 - INFO - Database initialized successfully!
2025-05-01 07:31:10,735 - DEBUG - Starting router imports
2025-05-01 07:31:10,735 - DEBUG - Importing user_router
2025-05-01 07:31:10,737 - DEBUG - Importing room_router
2025-05-01 07:31:10,738 - DEBUG - Loading rooms.py module
2025-05-01 07:31:10,744 - DEBUG - Including room_router
2025-05-01 07:31:10,749 - DEBUG - Importing bet_router
2025-05-01 07:31:10,750 - DEBUG - Importing message_router
2025-05-01 07:31:10,752 - DEBUG - Importing auth_router
2025-05-01 07:31:10,752 - DEBUG - Importing notification_router
2025-05-01 07:31:10,752 - DEBUG - Completed router imports
2025-05-01 07:31:10,753 - DEBUG - Initializing database
2025-05-01 07:31:11,225 - DEBUG - Database initialized successfully
2025-05-01 07:31:11,226 - INFO - Database initialized successfully!
2025-05-01 07:31:29,972 - DEBUG - Starting router imports
2025-05-01 07:31:29,972 - DEBUG - Importing user_router
2025-05-01 07:31:29,973 - DEBUG - Importing room_router
2025-05-01 07:31:29,974 - DEBUG - Loading rooms.py module
2025-05-01 07:31:29,978 - DEBUG - Including room_router
2025-05-01 07:31:29,983 - DEBUG - Importing bet_router
2025-05-01 07:31:29,984 - DEBUG - Importing message_router
2025-05-01 07:31:29,985 - DEBUG - Importing auth_router
2025-05-01 07:31:29,986 - DEBUG - Importing notification_router
2025-05-01 07:31:29,986 - DEBUG - Completed router imports
2025-05-01 07:31:29,986 - DEBUG - Initializing database
2025-05-01 07:31:30,459 - DEBUG - Database initialized successfully
2025-05-01 07:31:30,459 - INFO - Database initialized successfully!
2025-05-01 07:32:23,713 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:23,839 - DEBUG - User authenticated: id=11
2025-05-01 07:32:23,839 - DEBUG - Fetching profile for user_id=11, username=shahid
2025-05-01 07:32:23,903 - INFO - User profile fetched: id=11, username=shahid
2025-05-01 07:32:23,942 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:23,948 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:24,036 - DEBUG - User authenticated: id=11
2025-05-01 07:32:24,036 - DEBUG - Fetching profile for user_id=11, username=shahid
2025-05-01 07:32:24,095 - INFO - User profile fetched: id=11, username=shahid
2025-05-01 07:32:24,231 - DEBUG - User authenticated: id=11
2025-05-01 07:32:24,290 - INFO - Successfully fetched 6 rooms for user 11
2025-05-01 07:32:24,324 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:24,332 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:24,417 - DEBUG - User authenticated: id=11
2025-05-01 07:32:24,434 - DEBUG - User authenticated: id=11
2025-05-01 07:32:24,449 - INFO - Successfully fetched 6 rooms for user 11
2025-05-01 07:32:24,451 - DEBUG - Fetching messages for room 1 by user 11
2025-05-01 07:32:24,630 - INFO - Retrieved 4 messages for room 1
2025-05-01 07:32:24,851 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:24,851 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:24,938 - DEBUG - User authenticated: id=11
2025-05-01 07:32:24,967 - DEBUG - User authenticated: id=11
2025-05-01 07:32:25,116 - INFO - User 11 fetched 3 members for room 1
2025-05-01 07:32:25,116 - DEBUG - Fetching messages for room 1 by user 11
2025-05-01 07:32:25,306 - INFO - Retrieved 4 messages for room 1
2025-05-01 07:32:25,524 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:25,613 - DEBUG - User authenticated: id=11
2025-05-01 07:32:25,795 - INFO - User 11 fetched 3 members for room 1
2025-05-01 07:32:25,798 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:25,891 - DEBUG - User authenticated: id=11
2025-05-01 07:32:25,892 - DEBUG - Fetching profile for user_id=11, username=shahid
2025-05-01 07:32:25,953 - INFO - User profile fetched: id=11, username=shahid
2025-05-01 07:32:25,985 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:26,077 - DEBUG - User authenticated: id=11
2025-05-01 07:32:26,077 - DEBUG - Fetching profile for user_id=11, username=shahid
2025-05-01 07:32:26,138 - INFO - User profile fetched: id=11, username=shahid
2025-05-01 07:32:27,428 - DEBUG - Logout attempt: token=eyJhbGciOi...
2025-05-01 07:32:27,430 - ERROR - JWT error during logout: Signature verification failed.
2025-05-01 07:32:40,053 - DEBUG - Login attempt: email=mohd@gmail.com, username=None
2025-05-01 07:32:40,154 - DEBUG - Verifying password: hashed=$2b$12$00r...
2025-05-01 07:32:40,156 - DEBUG - detected 'bcrypt' backend, version '4.0.1'
2025-05-01 07:32:40,156 - DEBUG - 'bcrypt' backend lacks $2$ support, enabling workaround
2025-05-01 07:32:40,435 - DEBUG - Creating access token for data: {'sub': '14'}
2025-05-01 07:32:40,435 - DEBUG - Access token created: eyJhbGciOi...
2025-05-01 07:32:40,435 - DEBUG - Creating refresh token for user_id: 14
2025-05-01 07:32:40,499 - DEBUG - Refresh token stored: eyJhbGciOi...
2025-05-01 07:32:40,585 - INFO - Login successful: user_id=14, username=mohd
2025-05-01 07:32:40,630 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:40,720 - DEBUG - User authenticated: id=14
2025-05-01 07:32:40,721 - DEBUG - Fetching profile for user_id=14, username=mohd
2025-05-01 07:32:40,785 - INFO - User profile fetched: id=14, username=mohd
2025-05-01 07:32:40,823 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:40,913 - DEBUG - User authenticated: id=14
2025-05-01 07:32:40,914 - DEBUG - Fetching profile for user_id=14, username=mohd
2025-05-01 07:32:40,975 - INFO - User profile fetched: id=14, username=mohd
2025-05-01 07:32:42,007 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:42,095 - DEBUG - User authenticated: id=14
2025-05-01 07:32:42,096 - DEBUG - Fetching profile for user_id=14, username=mohd
2025-05-01 07:32:42,158 - INFO - User profile fetched: id=14, username=mohd
2025-05-01 07:32:42,198 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:42,201 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:42,287 - DEBUG - User authenticated: id=14
2025-05-01 07:32:42,288 - DEBUG - Fetching profile for user_id=14, username=mohd
2025-05-01 07:32:42,316 - DEBUG - User authenticated: id=14
2025-05-01 07:32:42,348 - INFO - User profile fetched: id=14, username=mohd
2025-05-01 07:32:42,381 - INFO - Successfully fetched 1 rooms for user 14
2025-05-01 07:32:42,420 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:42,428 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:42,509 - DEBUG - User authenticated: id=14
2025-05-01 07:32:42,517 - DEBUG - User authenticated: id=14
2025-05-01 07:32:42,541 - INFO - Successfully fetched 1 rooms for user 14
2025-05-01 07:32:42,542 - DEBUG - Fetching messages for room 13 by user 14
2025-05-01 07:32:42,846 - INFO - Retrieved 7 messages for room 13
2025-05-01 07:32:43,150 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:43,153 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:43,238 - DEBUG - User authenticated: id=14
2025-05-01 07:32:43,241 - DEBUG - User authenticated: id=14
2025-05-01 07:32:43,417 - INFO - User 14 fetched 3 members for room 13
2025-05-01 07:32:43,418 - DEBUG - Fetching messages for room 13 by user 14
2025-05-01 07:32:43,717 - INFO - Retrieved 7 messages for room 13
2025-05-01 07:32:44,024 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:44,112 - DEBUG - User authenticated: id=14
2025-05-01 07:32:44,294 - INFO - User 14 fetched 3 members for room 13
2025-05-01 07:32:46,912 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:47,009 - DEBUG - User authenticated: id=14
2025-05-01 07:32:47,011 - DEBUG - Fetching profile for user_id=14, username=mohd
2025-05-01 07:32:47,074 - INFO - User profile fetched: id=14, username=mohd
2025-05-01 07:32:47,108 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:47,196 - DEBUG - User authenticated: id=14
2025-05-01 07:32:47,197 - DEBUG - Fetching profile for user_id=14, username=mohd
2025-05-01 07:32:47,256 - INFO - User profile fetched: id=14, username=mohd
2025-05-01 07:32:48,768 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:48,864 - DEBUG - User authenticated: id=14
2025-05-01 07:32:48,864 - DEBUG - Fetching profile for user_id=14, username=mohd
2025-05-01 07:32:48,935 - INFO - User profile fetched: id=14, username=mohd
2025-05-01 07:32:48,968 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:49,058 - DEBUG - User authenticated: id=14
2025-05-01 07:32:49,063 - INFO - Successfully fetched 9 public rooms
2025-05-01 07:32:49,064 - DEBUG - Fetching profile for user_id=14, username=mohd
2025-05-01 07:32:49,126 - INFO - User profile fetched: id=14, username=mohd
2025-05-01 07:32:49,165 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:49,256 - DEBUG - User authenticated: id=14
2025-05-01 07:32:49,261 - INFO - Successfully fetched 9 public rooms
2025-05-01 07:32:49,292 - INFO - Successfully fetched 1 rooms for user 14
2025-05-01 07:32:49,325 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:49,412 - DEBUG - User authenticated: id=14
2025-05-01 07:32:49,443 - INFO - Successfully fetched 1 rooms for user 14
2025-05-01 07:32:51,636 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:51,733 - DEBUG - User authenticated: id=14
2025-05-01 07:32:51,947 - INFO - User 14 joined room 17
2025-05-01 07:32:53,325 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:53,422 - DEBUG - User authenticated: id=14
2025-05-01 07:32:53,423 - DEBUG - Fetching profile for user_id=14, username=mohd
2025-05-01 07:32:53,484 - INFO - User profile fetched: id=14, username=mohd
2025-05-01 07:32:53,518 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:53,610 - DEBUG - User authenticated: id=14
2025-05-01 07:32:53,612 - INFO - Successfully fetched 9 public rooms
2025-05-01 07:32:53,613 - DEBUG - Fetching profile for user_id=14, username=mohd
2025-05-01 07:32:53,695 - INFO - User profile fetched: id=14, username=mohd
2025-05-01 07:32:53,731 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:53,818 - DEBUG - User authenticated: id=14
2025-05-01 07:32:53,820 - INFO - Successfully fetched 9 public rooms
2025-05-01 07:32:53,851 - INFO - Successfully fetched 2 rooms for user 14
2025-05-01 07:32:53,884 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:53,973 - DEBUG - User authenticated: id=14
2025-05-01 07:32:54,007 - INFO - Successfully fetched 2 rooms for user 14
2025-05-01 07:32:56,089 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:56,186 - DEBUG - User authenticated: id=14
2025-05-01 07:32:56,187 - DEBUG - Fetching profile for user_id=14, username=mohd
2025-05-01 07:32:56,259 - INFO - User profile fetched: id=14, username=mohd
2025-05-01 07:32:56,293 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:56,381 - DEBUG - User authenticated: id=14
2025-05-01 07:32:56,382 - DEBUG - Fetching profile for user_id=14, username=mohd
2025-05-01 07:32:56,444 - INFO - User profile fetched: id=14, username=mohd
2025-05-01 07:32:57,993 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:58,090 - DEBUG - User authenticated: id=14
2025-05-01 07:32:58,091 - DEBUG - Fetching profile for user_id=14, username=mohd
2025-05-01 07:32:58,151 - INFO - User profile fetched: id=14, username=mohd
2025-05-01 07:32:58,185 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:58,188 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:58,279 - DEBUG - User authenticated: id=14
2025-05-01 07:32:58,280 - DEBUG - User authenticated: id=14
2025-05-01 07:32:58,312 - INFO - Successfully fetched 2 rooms for user 14
2025-05-01 07:32:58,313 - DEBUG - Fetching profile for user_id=14, username=mohd
2025-05-01 07:32:58,409 - INFO - User profile fetched: id=14, username=mohd
2025-05-01 07:32:58,447 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:58,454 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:58,534 - DEBUG - User authenticated: id=14
2025-05-01 07:32:58,543 - DEBUG - User authenticated: id=14
2025-05-01 07:32:58,565 - INFO - Successfully fetched 2 rooms for user 14
2025-05-01 07:32:58,566 - DEBUG - Fetching messages for room 13 by user 14
2025-05-01 07:32:58,870 - INFO - Retrieved 7 messages for room 13
2025-05-01 07:32:59,176 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:59,179 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:32:59,266 - DEBUG - User authenticated: id=14
2025-05-01 07:32:59,267 - DEBUG - User authenticated: id=14
2025-05-01 07:32:59,267 - DEBUG - Fetching messages for room 13 by user 14
2025-05-01 07:32:59,563 - INFO - Retrieved 7 messages for room 13
2025-05-01 07:33:00,023 - INFO - User 14 fetched 3 members for room 13
2025-05-01 07:33:00,058 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:33:00,145 - DEBUG - User authenticated: id=14
2025-05-01 07:33:00,328 - INFO - User 14 fetched 3 members for room 13
2025-05-01 07:33:00,669 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:33:00,762 - DEBUG - User authenticated: id=14
2025-05-01 07:33:00,763 - DEBUG - Fetching messages for room 17 by user 14
2025-05-01 07:33:00,915 - INFO - Retrieved 1 messages for room 17
2025-05-01 07:33:01,040 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:33:01,129 - DEBUG - User authenticated: id=14
2025-05-01 07:33:01,314 - INFO - User 14 fetched 3 members for room 17
2025-05-01 07:33:03,272 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:33:03,370 - DEBUG - User authenticated: id=14
2025-05-01 07:33:03,370 - DEBUG - Fetching profile for user_id=14, username=mohd
2025-05-01 07:33:03,443 - INFO - User profile fetched: id=14, username=mohd
2025-05-01 07:33:03,476 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:33:03,478 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:33:03,565 - DEBUG - User authenticated: id=14
2025-05-01 07:33:03,565 - DEBUG - User authenticated: id=14
2025-05-01 07:33:03,596 - INFO - Successfully fetched 2 rooms for user 14
2025-05-01 07:33:03,597 - DEBUG - Fetching profile for user_id=14, username=mohd
2025-05-01 07:33:03,665 - INFO - User profile fetched: id=14, username=mohd
2025-05-01 07:33:03,704 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:33:03,704 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:33:03,708 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:33:03,793 - DEBUG - User authenticated: id=14
2025-05-01 07:33:03,793 - DEBUG - User authenticated: id=14
2025-05-01 07:33:03,828 - INFO - Successfully fetched 2 rooms for user 14
2025-05-01 07:33:03,962 - DEBUG - User authenticated: id=14
2025-05-01 07:33:04,007 - INFO - User 14 fetched 3 members for room 17
2025-05-01 07:33:04,008 - DEBUG - Fetching messages for room 17 by user 14
2025-05-01 07:33:04,157 - INFO - Retrieved 1 messages for room 17
2025-05-01 07:33:04,281 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:33:04,282 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:33:04,282 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:33:04,369 - DEBUG - User authenticated: id=14
2025-05-01 07:33:04,369 - DEBUG - User authenticated: id=14
2025-05-01 07:33:04,369 - DEBUG - User authenticated: id=14
2025-05-01 07:33:04,370 - DEBUG - Fetching messages for room 17 by user 14
2025-05-01 07:33:04,517 - INFO - Retrieved 1 messages for room 17
2025-05-01 07:33:04,795 - INFO - User 14 fetched 3 members for room 17
2025-05-01 07:33:05,000 - INFO - User 14 fetched 2 bets for room 17
2025-05-01 07:33:05,042 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:33:05,042 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:33:05,130 - DEBUG - User authenticated: id=14
2025-05-01 07:33:05,130 - DEBUG - User authenticated: id=14
2025-05-01 07:33:05,161 - INFO - User 14 fetched 0 notifications
2025-05-01 07:33:05,347 - INFO - User 14 fetched 2 bets for room 17
2025-05-01 07:33:05,384 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:33:05,474 - DEBUG - User authenticated: id=14
2025-05-01 07:33:05,504 - INFO - User 14 fetched 0 notifications
2025-05-01 07:33:19,751 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:33:19,849 - DEBUG - User authenticated: id=14
2025-05-01 07:33:19,850 - DEBUG - Fetching profile for user_id=14, username=mohd
2025-05-01 07:33:19,914 - INFO - User profile fetched: id=14, username=mohd
2025-05-01 07:33:19,950 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:33:19,953 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:33:20,038 - DEBUG - User authenticated: id=14
2025-05-01 07:33:20,038 - DEBUG - User authenticated: id=14
2025-05-01 07:33:20,039 - DEBUG - Fetching profile for user_id=14, username=mohd
2025-05-01 07:33:20,098 - INFO - User profile fetched: id=14, username=mohd
2025-05-01 07:33:20,130 - INFO - Successfully fetched 2 rooms for user 14
2025-05-01 07:33:20,165 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:33:20,166 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:33:20,254 - DEBUG - User authenticated: id=14
2025-05-01 07:33:20,254 - DEBUG - User authenticated: id=14
2025-05-01 07:33:20,255 - DEBUG - Fetching messages for room 13 by user 14
2025-05-01 07:33:20,556 - INFO - Retrieved 7 messages for room 13
2025-05-01 07:33:20,882 - INFO - Successfully fetched 2 rooms for user 14
2025-05-01 07:33:20,922 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:33:20,924 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:33:21,011 - DEBUG - User authenticated: id=14
2025-05-01 07:33:21,011 - DEBUG - User authenticated: id=14
2025-05-01 07:33:21,011 - DEBUG - Fetching messages for room 13 by user 14
2025-05-01 07:33:21,313 - INFO - Retrieved 7 messages for room 13
2025-05-01 07:33:21,879 - INFO - User 14 fetched 3 members for room 13
2025-05-01 07:33:21,883 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:33:21,914 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:33:21,974 - DEBUG - User authenticated: id=14
2025-05-01 07:33:21,977 - DEBUG - Fetching profile for user_id=14, username=mohd
2025-05-01 07:33:22,002 - DEBUG - User authenticated: id=14
2025-05-01 07:33:22,036 - INFO - User profile fetched: id=14, username=mohd
2025-05-01 07:33:22,241 - INFO - User 14 fetched 3 members for room 13
2025-05-01 07:33:22,274 - DEBUG - Validating token: eyJhbGciOi...
2025-05-01 07:33:22,362 - DEBUG - User authenticated: id=14
2025-05-01 07:33:22,362 - DEBUG - Fetching profile for user_id=14, username=mohd
2025-05-01 07:33:22,422 - INFO - User profile fetched: id=14, username=mohd
2025-05-01 07:33:24,527 - DEBUG - Logout attempt: token=eyJhbGciOi...
2025-05-01 07:33:24,528 - ERROR - JWT error during logout: Signature verification failed.
